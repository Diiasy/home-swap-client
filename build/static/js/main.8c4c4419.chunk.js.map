{"version":3,"sources":["utils/auth.jsx","utils/ProtectRoute.jsx","components/Navbar.jsx","layouts/Default.jsx","pages/Home.jsx","pages/Signup.jsx","pages/Login.jsx","pages/Logout.jsx","pages/List.jsx","utils/service.js","components/EditProfilePictures.jsx","components/EditProfile.jsx","components/ProfileCard.jsx","components/AddDates.js","components/RemoveDates.jsx","components/Calendar.jsx","components/AddReview.js","components/Reviews.jsx","components/SendMessageBtn.jsx","pages/Profile.jsx","components/MemberCard.jsx","components/MapCard.jsx","pages/Map.js","components/PostMessage.jsx","pages/Conversation.jsx","pages/ConversationList.jsx","pages/PageNotFound.jsx","App.js","serviceWorker.js","index.js"],"names":["axios","Axios","create","baseURL","process","withCredentials","headers","getUser","user","JSON","parse","window","localStorage","getItem","login","method","url","data","qs","stringify","then","response","setItem","setUser","removeUser","removeItem","ProtectRoute","props","path","component","to","redirectTo","Navbar","className","src","alt","_id","username","icon","faSignOutAlt","Default","children","Home","state","message","get","setState","Carousel","Item","Caption","Component","Signup","error","handleChange","bind","signUpUser","e","this","target","name","value","preventDefault","catch","err","console","log","history","push","errorMessage","class","id","htmlFor","type","onChange","placeholder","for","onClick","Login","password","loginUser","userId","Logout","List","users","filteredUsers","searchProperties","searchTerm","length","aria-label","map","pictures","key","homeName","city","homeDescription","service","errorHandler","theFile","currentUser","post","res","EditProfilePictures","handleFileUpload","files","uploadData","FormData","append","addPicture","pop","picture","deletePictures","faTrash","uid","EditProfile","editProfile","addPictureHandler","deletePicturesHandler","match","params","profileUpdate","uploadedPicture","userCopy","pictureId","indexN","forEach","index","splice","onSubmit","render","ProfileCard","Available","availability","startDate","Date","endDate","selecting","addAvailability","dateTime","dt","UTC","getFullYear","getMonth","getDate","allDateTimes","Object","values","eachDayOfInterval","start","end","date","allDates","inline","excludeDates","React","includeDates","AddReview","review","addReview","document","getElementById","reset","reviewUpdate","min","max","Reviews","reviews","content","reviewer","score","Conversation","sendMessage","Profile","form","editCalendar","removeDates","calendar","fetchUser","toggleForms","deleteUserHandler","prevProps","theForm","addDates","RemoveDates","SendMessageBtn","MemberCard","mapStyles","height","MapCard","style","ref","innerRef","forwardRef","mapboxgl","accessToken","Map","setNewUser","mapRef","createRef","container","current","center","zoom","on","lng","getCenter","toFixed","lat","getZoom","fixHistory","fixThis","el","createElement","backgroundImage","backgroundSize","width","top","addEventListener","Marker","setLngLat","geometry","coordinates","addTo","exact","postMessage","convId","messages","transformDate","getTime","conversationId","dateString","toDateString","hours","getHours","minutes","getMinutes","from","createdAt","PostMessage","ConversationList","conversations","conversation","PageNotFound","App","Boolean","location","hostname","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"2aAGMA,EAAQC,IAAMC,OAAO,CACvBC,QAASC,wBACTC,iBAAiB,EACjBC,QAAS,CAAE,eAAgB,uCAgBlBC,EAAU,SAACC,GACpB,OAAOC,KAAKC,MAAMC,OAAOC,aAAaC,QAAQ,UAGrCC,EAAQ,SAACN,GAClB,OAAOR,EAAM,CACTe,OAAQ,OACRC,IAAK,cACLC,KAAMC,IAAGC,UAAUX,KAEtBY,MAAK,SAACC,IAdY,SAACb,GACpBG,OAAOC,aAAaU,QAAQ,OAAQb,KAAKU,UAAUX,IAc/Ce,CAAQF,EAASJ,UAWZO,EAAa,SAAChB,GACvBG,OAAOC,aAAaa,WAAW,SCpCpBC,EALM,SAACC,GAClB,OD6CChB,OAAOC,aAAaC,QAAQ,QC5CjB,kBAAC,IAAD,CAAOe,KAAMD,EAAMC,KAAMC,UAAaF,EAAME,YAD3B,kBAAC,IAAD,CAAUC,GAAMH,EAAMI,c,iCCyExCC,MAvEf,WACE,IAAIxB,EAAOD,IAEX,OAAIC,EAEA,yBAAKyB,UAAU,wCACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,SACb,kBAAC,IAAD,CAAMA,UAAU,iCAAiCH,GAAG,KAClD,yBAAKI,IAAI,iBAAiBC,IAAI,eAOhC,wBAAIF,UAAU,cACZ,wBAAIA,UAAU,YACZ,kBAAC,IAAD,CAAMA,UAAU,eAAeH,GAAG,eAAlC,SAEF,wBAAIG,UAAU,YACZ,kBAAC,IAAD,CAAMA,UAAU,eAAeH,GAAG,QAAlC,QAEF,wBAAIG,UAAU,YACZ,kBAAC,IAAD,CAAMA,UAAU,eAAeH,GAAG,kBAAlC,gBAEF,wBAAIG,UAAU,YACZ,kBAAC,IAAD,CAAMA,UAAU,eAAeH,GAAE,wBAAmBtB,EAAK4B,MAAzD,WAAyE5B,EAAK6B,WAEhF,wBAAIJ,UAAU,YACZ,kBAAC,IAAD,CAAMA,UAAU,eAAeH,GAAG,gBAAe,kBAAC,IAAD,CAAiBQ,KAAMC,WASlF,yBAAKN,UAAU,wCACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,SACb,kBAAC,IAAD,CAAMA,UAAU,uBAAuBH,GAAG,KACxC,yBAAKI,IAAI,iBAAiBC,IAAI,eAOhC,wBAAIF,UAAU,cACZ,wBAAIA,UAAU,YACZ,kBAAC,IAAD,CAAMA,UAAU,eAAeH,GAAG,eAAlC,SAEF,wBAAIG,UAAU,YACZ,kBAAC,IAAD,CAAMA,UAAU,eAAeH,GAAG,QAAlC,QAEF,wBAAIG,UAAU,YACZ,kBAAC,IAAD,CAAMA,UAAU,eAAeH,GAAG,eAAlC,UAEF,wBAAIG,UAAU,YACZ,kBAAC,IAAD,CAAMA,UAAU,eAAeH,GAAG,gBAAlC,gB,OCpDDU,MAVf,SAAiBb,GACb,OACI,6BACI,kBAAC,EAAD,MACCA,EAAMc,W,QC6DJC,G,kNAhEbC,MAAQ,CACNC,QAAS,M,kEAGU,IAAD,OAClB5C,IAAM6C,IAAN,UAAazC,yBAAkC,CAACC,iBAAiB,IAChEe,MAAK,SAAAC,GACJ,EAAKyB,SAAS,CACZF,QAASvB,EAASJ,KAAK2B,e,+BAM3B,OACI,kBAAC,EAAD,KACE,yBAAKX,UAAU,mBACb,yBAAKA,UAAU,OACf,kBAACc,EAAA,EAAD,KACI,kBAACA,EAAA,EAASC,KAAV,KACE,yBACEf,UAAU,gBACVC,IAAI,+CACJC,IAAI,gBAEN,kBAACY,EAAA,EAASE,QAAV,KACE,iDACA,2FAGJ,kBAACF,EAAA,EAASC,KAAV,KACE,yBACEf,UAAU,gBACVC,IAAI,gDACJC,IAAI,gBAGN,kBAACY,EAAA,EAASE,QAAV,KACE,kDACA,yFAGJ,kBAACF,EAAA,EAASC,KAAV,KACE,yBACEf,UAAU,gBACVC,IAAI,+CACJC,IAAI,gBAGN,kBAACY,EAAA,EAASE,QAAV,KACE,iDACA,yG,GApDDC,c,eCqEJC,E,kDAtEX,WAAYxB,GAAQ,IAAD,8BACf,cAAMA,IAKVgB,MAAQ,CACJnC,KAAM,GACN4C,MAAO,MANP,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKC,WAAa,EAAKA,WAAWD,KAAhB,gBAHH,E,yDAWNE,GACT,IAAIhD,EAAI,eAAOiD,KAAKd,MAAMnC,MAC1BA,EAAKgD,EAAEE,OAAOC,MAAQH,EAAEE,OAAOE,MAC/BH,KAAKX,SAAS,CAACtC,W,iCAGRgD,GAAI,ILbIhD,EKaL,OACVgD,EAAEK,kBLdarD,EKeRiD,KAAKd,MAAMnC,KLdfR,EAAM,CACTe,OAAQ,OACRC,IAAK,eACLC,KAAMC,IAAGC,UAAUX,KAEtBsD,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OKUrB3C,MAAK,WACF,EAAKO,MAAMuC,QAAQC,KAAnB,kBAEHL,OAAM,SAAAC,GACH,EAAKjB,SAAS,CAACM,MAAOW,EAAI1C,SAASJ,KAAKmD,oB,+BAK5C,OACI,kBAAC,EAAD,KACI,yBAAKC,MAAM,gDACP,yBAAKA,MAAM,SACP,0BAAMC,GAAG,QACL,wBAAIrC,UAAU,QAAd,UACA,yBAAKA,UAAU,cACX,2BAAOsC,QAAQ,YAAf,YACA,2BAAOtC,UAAU,eAAeuC,KAAK,OAAOC,SAAUhB,KAAKJ,aAAcM,KAAK,WAAWe,YAAY,cAEzG,yBAAKzC,UAAU,cACX,2BAAOsC,QAAQ,aAAf,QACA,2BAAOtC,UAAU,eAAeuC,KAAK,OAAOC,SAAUhB,KAAKJ,aAAcM,KAAK,OAAOe,YAAY,UAErG,yBAAKzC,UAAU,cACX,2BAAOsC,QAAQ,SAAf,SACA,2BAAOtC,UAAU,eAAeuC,KAAK,OAAOC,SAAUhB,KAAKJ,aAAcM,KAAK,QAAQe,YAAY,WAEtG,yBAAKzC,UAAU,cACX,2BAAOsC,QAAQ,SAAf,QACA,2BAAOtC,UAAU,eAAeuC,KAAK,OAAOC,SAAUhB,KAAKJ,aAAcM,KAAK,OAAOe,YAAY,UAErG,yBAAKzC,UAAU,cACX,2BAAOsC,QAAQ,YAAf,YACA,2BAAOtC,UAAU,eAAeuC,KAAK,WAAWC,SAAUhB,KAAKJ,aAAcM,KAAK,WAAWe,YAAY,cAE7G,yBAAKzC,UAAU,cACX,2BAAOA,UAAU,aAAa0C,IAAI,QAAlC,WACA,2BAAOH,KAAK,OAAQvC,UAAU,wBAAwB0B,KAAK,UAAUc,SAAUhB,KAAKJ,aAAcqB,YAAY,sBAGlH,4BAAQE,QAASnB,KAAKF,WAAYiB,KAAK,UAAvC,aAIXf,KAAKd,MAAMS,OAAS,2BAAIK,KAAKd,MAAMS,Y,GAjE/BF,aC2DN2B,E,kDA1DX,WAAYlD,GAAQ,IAAD,8BACf,cAAMA,IAKVgB,MAAQ,CACJnC,KAAM,CACF6B,SAAU,GACVyC,SAAU,IAEd1B,MAAO,MATP,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKyB,UAAY,EAAKA,UAAUzB,KAAf,gBAHF,E,yDAcNE,GACT,IAAIhD,EAAI,eAAOiD,KAAKd,MAAMnC,MAC1BA,EAAKgD,EAAEE,OAAOC,MAAQH,EAAEE,OAAOE,MAC/BH,KAAKX,SAAS,CAACtC,W,gCAGTgD,GAAI,IAAD,OACTA,EAAEK,iBACF/C,EAAM2C,KAAKd,MAAMnC,MAChBY,MAAK,WACF,IAAI4D,EAASzE,IACb,EAAKoB,MAAMuC,QAAQC,KAAnB,wBAAyCa,EAAO5C,SAEnD0B,OAAM,SAAAC,GACH,EAAKjB,SAAS,CAACM,MAAOW,EAAI1C,SAASJ,KAAKmD,oB,+BAK5C,OACI,kBAAC,EAAD,KACI,yBAAKnC,UAAU,gDACX,yBAAKA,UAAU,SACX,yBAAKqC,GAAG,QACJ,wBAAIrC,UAAU,QAAd,SACA,yBAAKA,UAAU,cACX,2BAAOsC,QAAQ,YAAf,qBACA,2BAAOtC,UAAU,eAAeuC,KAAK,OAAOC,SAAUhB,KAAKJ,aAAcM,KAAK,kBAAkBe,YAAY,uBAEhH,yBAAKzC,UAAU,cACX,2BAAOsC,QAAQ,YAAf,YACA,2BAAOtC,UAAU,eAAeuC,KAAK,WAAWC,SAAUhB,KAAKJ,aAAcM,KAAK,WAAWe,YAAY,cAG7G,4BAAQE,QAASnB,KAAKsB,UAAWP,KAAK,UAAtC,YAGPf,KAAKd,MAAMS,OAAS,2BAAIK,KAAKd,MAAMS,a,GApDpCF,aCsBL+B,E,kLArBS,IAAD,OPiCZjF,EAAM6C,IAAI,gBAChBzB,MAAK,WACFI,OOjCCJ,MAAK,WACF,EAAKO,MAAMuC,QAAQC,KAAK,QAE3BL,OAAO,SAAAV,GACJ,EAAKN,SAAS,CAACM,e,+BAKnB,OACI,kBAAC,EAAD,KACI,yBAAKnB,UAAU,mBACf,wBAAIA,UAAU,QAAd,uB,GAfKiB,aCyFNgC,G,wDAnFX,WAAYvD,GAAQ,IAAD,8BACf,cAAMA,IAIVgB,MAAQ,CACJwC,MAAO,KACPC,cAAe,MALf,EAAKC,iBAAmB,EAAKA,iBAAiB/B,KAAtB,gBAFT,E,gEAUC,IAAD,OACftD,IAAM6C,IAAN,UAAazC,wBAAb,cAAyD,CAACC,iBAAiB,IAC1Ee,MAAK,SAAAC,GACF,EAAKyB,SAAS,CAACqC,MAAO9D,EAASJ,KAAMmE,cAAe/D,EAASJ,UAEhE6C,OAAO,SAAAV,GACJ,EAAKN,SAAS,CAACM,e,uCAINI,GAAG,IAAD,OACX8B,EAAa9B,EAAEE,OAAOE,MAC1B,GAA0B,IAAtB0B,EAAWC,OACX,OAAO9B,KAAKX,SAAS,CAACsC,cAAe3B,KAAKd,MAAMwC,QAEpDnF,IAAM,CACFgB,IAAI,GAAD,OAAIZ,wBAAJ,0BAAoDkF,GACvDvE,OAAQ,MACRV,iBAAiB,IAEpBe,MAAK,SAAAC,GAC2B,IAAzBA,EAASJ,KAAKsE,QAGd,EAAKzC,SAAS,CAACsC,cAAe/D,EAASJ,Y,+BAM/C,OAAwB,OAArBwC,KAAKd,MAAMwC,MAAuB,kBAAC,EAAD,KAAS,yBAAKlD,UAAU,sDAAqD,8BAAW,8BAAW,8BAAW,gCAE3I,kBAAC,EAAD,KACI,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,uCACX,0BAAMA,UAAU,yBACZ,2BAAOA,UAAW,uBACduC,KAAK,OACLgB,aAAW,SACXd,YAAY,oBACZD,SAAUhB,KAAK4B,sBAK/B,yBAAKpD,UAAU,8BACX,yBAAKA,UAAU,WAEXwB,KAAKd,MAAMyC,cAAcK,KAAI,SAAAjF,GAAI,OAC7BA,EAAKkF,SAASH,OAAS,GACvB,yBAAKI,IAAKnF,EAAK4B,IAAKH,UAAU,kEAC1B,kBAAC,IAAD,CAAMH,GAAE,wBAAmBtB,EAAK4B,KAAOH,UAAU,aAC7C,yBAAKA,UAAU,QACX,wBAAIA,UAAU,kBAAkBzB,EAAKoF,UACrC,yBAAK1D,IAAK1B,EAAKkF,SAAS,GAAG9D,KAAMK,UAAU,gCAAgCE,IAAI,KAC/E,yBAAKF,UAAU,aACX,uBAAGA,UAAU,aAAazB,EAAKqF,MAC/B,uBAAG5D,UAAU,aAAazB,EAAKsF,+B,GApE5D5C,cCNb6C,EAAU/F,IAAME,OAAO,CAC3BC,QAASC,wBACTC,iBAAiB,IAGb2F,EAAe,SAAAjC,GAEnB,MAAMA,GAGO,WAGCkC,GACZ,IAAIC,EAAc3F,IAClB,OAAOwF,EAAQI,KAAR,wBAA8BD,EAAY9D,IAA1C,SAAsD6D,GAC1D7E,MAAK,SAAAgF,GAAG,OAAIA,EAAInF,QAChB6C,MAAMkC,I,QCmCEK,E,kDA9CX,WAAY1E,GAAQ,IAAD,8BACf,cAAMA,IAIVgB,MAAQ,CACJ+C,SAAU,IAJV,EAAKY,iBAAmB,EAAKA,iBAAiBhD,KAAtB,gBAFT,E,6DASFE,GAAI,IAAD,OAChBQ,QAAQC,IAAI,+BAAgCT,EAAEE,OAAO6C,MAAM,IAC3D,IAAMC,EAAa,IAAIC,SACvBD,EAAWE,OAAO,WAAYlD,EAAEE,OAAO6C,MAAM,IAC7CR,EAAqBS,GAChBpF,MAAK,SAAAC,GACF2C,QAAQC,IAAI,gBAAiB5C,GAC7B,EAAKyB,SAAS,CAAE4C,SAAUrE,EAASqE,WACnC,EAAK/D,MAAMgF,WAAWtF,EAASqE,SAASkB,UAE3C9C,OAAM,SAAAC,GACHC,QAAQC,IAAI,mCAAoCF,Q,+BAIlD,IAAD,OACD2B,EAAWjC,KAAK9B,MAAMnB,KAAKkF,SAC/B,OACI,yBAAKzD,UAAU,OAEPyD,GAAYA,EAASD,KAAI,SAAAoB,GAAO,OAC5B,yBAAKlB,IAAKkB,EAAQzE,IAAKH,UAAU,oDAC7B,yBAAKC,IAAK2E,EAAQjF,KAAMO,IAAK0E,EAAQlD,KAAM1B,UAAU,eACrD,yBAAKA,UAAU,SACX,4BAAQuC,KAAK,SAASvC,UAAU,OAAO2C,QAAW,kBAAM,EAAKjD,MAAMmF,eAAeD,EAAQzE,OAAM,kBAAC,IAAD,CAAiBE,KAAMyE,YAKvI,2BAAOtC,SAAU,SAACjB,GAAD,OAAO,EAAK8C,iBAAiB9C,IAAImC,IAAKqB,cAAOxC,KAAK,OAAOb,KAAK,WAAW1B,UAAU,sBAEnGwB,KAAKd,MAAMS,OAAS,2BAAIK,KAAKd,MAAMS,Y,GAzClBF,aC2GnB+D,E,kDA5GX,aAAe,IAAD,8BACV,gBAOJtE,MAAQ,CACJnC,KAAM,GACN4C,MAAO,MARP,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAK4D,YAAc,EAAKA,YAAY5D,KAAjB,gBACnB,EAAK6D,kBAAoB,EAAKA,kBAAkB7D,KAAvB,gBACzB,EAAK8D,sBAAwB,EAAKA,sBAAsB9D,KAA3B,gBALnB,E,gEAaO,IAAD,OAChBtD,IAAM,CACFgB,IAAI,GAAD,OAAKZ,wBAAL,yBAAoDqD,KAAK9B,MAAM0F,MAAMC,OAAOhD,IAC/EjE,iBAAiB,EACjBU,OAAQ,QAEXK,MAAK,SAAAC,GACF,IAAIb,EAAOa,EAASJ,KACpB,EAAK6B,SAAS,CAAEtC,YAEnBsD,OAAM,SAAAV,GACH,EAAKN,SAAS,CAAEM,e,mCAIXI,GACT,IAAIhD,EAAI,eAAQiD,KAAKd,MAAMnC,MAC3BA,EAAKgD,EAAEE,OAAOC,MAAQH,EAAEE,OAAOE,MAC/BH,KAAKX,SAAS,CAAEtC,W,kCAGRgD,GAAI,IAAD,OACXA,EAAEK,iBACF7D,IAAM,CACFgB,IAAI,GAAD,OAAKZ,wBAAL,yBAAoDqD,KAAK9B,MAAM0F,MAAMC,OAAOhD,GAA5E,SACHrD,KAAMC,IAAGC,UAAUsC,KAAKd,MAAMnC,MAC9BH,iBAAiB,EACjBU,OAAQ,SAEXK,MAAK,SAAAC,GACF,EAAKM,MAAM4F,cAAclG,EAASJ,MAClC,EAAKU,MAAMuC,QAAQC,KAAnB,wBAAyC9C,EAASJ,KAAKmB,SAE1D0B,OAAM,SAAAV,GACH,EAAKN,SAAS,CAAEM,e,wCAINoE,GACd,IAAIC,EAAWhH,KAAKC,MAAMD,KAAKU,UAAUsC,KAAKd,MAAMnC,OACpDiH,EAAS/B,SAASvB,KAAKqD,GACvB/D,KAAKX,SAAS,CACVtC,KAAMiH,M,4CAIQC,GAAW,IAAD,OAC5B1H,IAAM,CACFgB,IAAI,GAAD,OAAKZ,wBAAL,yBAAoDqD,KAAK9B,MAAM0F,MAAMC,OAAOhD,GAA5E,wBAA8FoD,GACjGrH,iBAAiB,EACjBU,OAAQ,QAEXK,MAAK,SAAAC,GACF,IACIsG,EADAF,EAAWhH,KAAKC,MAAMD,KAAKU,UAAU,EAAKwB,MAAMnC,OAEpDiH,EAAS/B,SAASkC,SAAQ,SAACf,EAASgB,GAAchB,EAAQzE,MAAQsF,IAAWC,EAASE,MACtFJ,EAAS/B,SAASoC,OAAOH,EAAQ,GACjC,EAAK7E,SAAS,CAAEtC,KAAMiH,OAEzB3D,OAAM,SAAAV,GACH,EAAKN,SAAS,CAAEM,e,+BAId,IAAD,OACL,OACI,6BACI,0BAAM2E,SAAUtE,KAAKyD,aACjB,yBAAKjF,UAAU,cACX,2BAAOsC,QAAQ,aAAf,QACA,2BAAOtC,UAAU,eAAeuC,KAAK,OAAOC,SAAUhB,KAAKJ,aAAcM,KAAK,OAAOC,MAAOH,KAAKd,MAAMnC,KAAKmD,KAAMe,YAAY,gBAElI,yBAAKzC,UAAU,eACX,2BAAOsC,QAAQ,YAAf,aACA,2BAAOtC,UAAU,eAAeuC,KAAK,OAAOC,SAAUhB,KAAKJ,aAAcM,KAAK,WAAWC,MAAOH,KAAKd,MAAMnC,KAAKoF,SAAUlB,YAAY,eAE1I,yBAAKzC,UAAU,eACX,2BAAOsC,QAAQ,SAAf,oBACA,8BAAUtC,UAAU,eAAewC,SAAUhB,KAAKJ,aAAcM,KAAK,kBAAkBC,MAAOH,KAAKd,MAAMnC,KAAKsF,gBAAiBpB,YAAY,sBAE/I,yBAAKzC,UAAU,eACX,2BAAOsC,QAAQ,SAAf,QACA,2BAAOtC,UAAU,eAAeuC,KAAK,OAAOC,SAAUhB,KAAKJ,aAAcM,KAAK,OAAOC,MAAOH,KAAKd,MAAMnC,KAAKqF,KAAMnB,YAAY,WAGrI,kBAAC,IAAD,CAAO9C,KAAI,yBAA4BoG,OAAQ,kBAAM,kBAAC,EAAD,CAAqBrB,WAAY,EAAKQ,kBAAmBL,eAAgB,EAAKM,sBAAuB5G,KAAQ,EAAKmC,MAAMnC,UAC7KiD,KAAKd,MAAMS,OAAS,2BAAIK,KAAKd,MAAMS,OACpC,yBAAKnB,UAAU,qCACX,4BAAQ2C,QAASnB,KAAKyD,aAAtB,gB,GAtGMhE,aC6BX+E,G,qLA5BP,IAAIvC,EAAWjC,KAAK9B,MAAMnB,KAAKkF,SAC/B,OACI,yBAAMzD,UAAU,kCAEZ,yBAAKA,UAAU,2BACX,4CACA,2BAAG,+CAA6BwB,KAAK9B,MAAMnB,KAAKoF,UAChD,2BAAG,mDAAiCnC,KAAK9B,MAAMnB,KAAKqF,MACpD,2BAAG,iDAA+BpC,KAAK9B,MAAMnB,KAAKsF,iBAClD,2BAAG,2CAAyBrC,KAAK9B,MAAMnB,KAAKmD,OAGhD,yBAAK1B,UAAU,mCACX,kBAACc,EAAA,EAAD,KAEQ2C,GAAYA,EAASD,KAAI,SAAAoB,GAAO,OAC5B,kBAAC9D,EAAA,EAASC,KAAV,CAAgB2C,IAAKkB,EAAQzE,KACzB,yBAAKH,UAAU,gBAAgBC,IAAK2E,EAAQjF,KAAMO,IAAK0E,EAAQlD,kB,GAnBzET,c,yBCsGXgF,G,oEAhGX,aAAe,IAAD,8BACV,gBAKJvF,MAAQ,CACJwF,aAAc,KACdC,UAAW,IAAIC,KACfC,QAAS,KACTC,WAAW,GARX,EAAKlF,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKkF,gBAAkB,EAAKA,gBAAgBlF,KAArB,gBAHb,E,gEAaM,IAAD,OACftD,IAAM6C,IAAN,UAAazC,wBAAb,yBAA4DqD,KAAK9B,MAAM0F,MAAMC,OAAOhD,IAAM,CAACjE,iBAAiB,IAC3Ge,MAAK,SAAAC,GACF,IACI8G,EADW9G,EAASJ,KAAKkH,aACD1C,KAAI,SAACgD,GACjC,IAAIC,EAAK,IAAIL,KAAKI,GAClB,OAAOJ,KAAKM,IAAID,EAAGE,cAAcF,EAAGG,WAAWH,EAAGI,cAElD,EAAKhG,SAAS,CAACqF,oBAElBrE,OAAO,SAAAV,GACJ,EAAKN,SAAS,CAACM,e,mCAIVI,GACLC,KAAKd,MAAM4F,UAMR/E,EAAIC,KAAKd,MAAMyF,UACd3E,KAAKX,SAAS,CACVsF,UAAW5E,EACX+E,WAAW,IAGf9E,KAAKX,SAAS,CACVwF,QAAS9E,EACT+E,WAAW,IAbnB9E,KAAKX,SAAS,CACVsF,UAAW5E,EACX+E,WAAW,M,sCAiBP/E,GAAI,IAAD,OACfA,EAAEK,iBACF,IAAIkF,EAAe,GACQ,OAAvBtF,KAAKd,MAAM2F,QACXS,EAAa5E,KAAM,IAAIkE,KAAK5E,KAAKd,MAAMyF,YAEvBY,OAAOC,OAAOC,YAAkB,CAAEC,MAAO,IAAId,KAAK5E,KAAKd,MAAMyF,WAAYgB,IAAK,IAAIf,KAAK5E,KAAKd,MAAM2F,YACxGV,SAAQ,SAAAyB,GAAI,OAAIN,EAAa5E,KAAKkF,MAEhD,IAAIC,EAAWP,EAAatD,KAAI,SAACgD,GAC7B,IAAIC,EAAK,IAAIL,KAAKI,GAClB,OAAOJ,KAAKM,IAAID,EAAGE,cAAcF,EAAGG,WAAWH,EAAGI,cAEtD9I,IAAM,CACFgB,IAAI,GAAD,OAAKZ,wBAAL,yBAAoDqD,KAAK9B,MAAM0F,MAAMC,OAAOhD,GAA5E,gBACHrD,KAAMC,IAAGC,UAAUmI,GACnBjJ,iBAAiB,EACjBU,OAAQ,SAEXK,MAAK,SAAAC,GACF,EAAKM,MAAM4F,cAAclG,EAASJ,MAClC,EAAKU,MAAMuC,QAAQC,KAAnB,wBAAyC9C,EAASJ,KAAKmB,SAE1D0B,OAAM,SAAAV,GACH,EAAKN,SAAS,CAACM,e,+BAKnB,OACI,yBAAKnB,UAAU,gEACX,kBAAC,IAAD,CACIsH,QAAM,EACNC,aAAc/F,KAAKd,MAAMwF,aACzB1D,SAAUhB,KAAKJ,aACf+E,UAAW3E,KAAKd,MAAMyF,UACtBE,QAAS7E,KAAKd,MAAM2F,UAExB,yBAAKrG,UAAU,OACX,4BAAQ2C,QAASnB,KAAK+E,gBAAiBhE,KAAK,UAA5C,gB,GAzFIiF,IAAMvG,YCsGfgF,E,kDArGX,aAAe,IAAD,8BACV,gBAKJvF,MAAQ,CACJwF,aAAc,KACdC,UAAW,IAAIC,KACfC,QAAS,KACTC,WAAW,GARX,EAAKlF,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKkF,gBAAkB,EAAKA,gBAAgBlF,KAArB,gBAHb,E,gEAaM,IAAD,OACftD,IAAM6C,IAAN,UAAazC,wBAAb,yBAA4DqD,KAAK9B,MAAM0F,MAAMC,OAAOhD,IAAM,CAACjE,iBAAiB,IAC3Ge,MAAK,SAAAC,GACF,IACI8G,EADW9G,EAASJ,KAAKkH,aACD1C,KAAI,SAACgD,GACjC,IAAIC,EAAK,IAAIL,KAAKI,GAClB,OAAOJ,KAAKM,IAAID,EAAGE,cAAcF,EAAGG,WAAWH,EAAGI,cAElD,EAAKhG,SAAS,CAACqF,oBAElBrE,OAAO,SAAAV,GACJ,EAAKN,SAAS,CAACM,e,mCAIVI,GACLC,KAAKd,MAAM4F,UAMR/E,EAAIC,KAAKd,MAAMyF,UACd3E,KAAKX,SAAS,CACVsF,UAAW5E,EACX+E,WAAW,IAGf9E,KAAKX,SAAS,CACVwF,QAAS9E,EACT+E,WAAW,IAbnB9E,KAAKX,SAAS,CACVsF,UAAW5E,EACX+E,WAAW,M,sCAkBP/E,GAAI,IAAD,OACfA,EAAEK,iBACF,IAAIkF,EAAe,GACQ,OAAvBtF,KAAKd,MAAM2F,QACXS,EAAa5E,KAAM,IAAIkE,KAAK5E,KAAKd,MAAMyF,YAEvBY,OAAOC,OAAOC,YAAkB,CAAEC,MAAO,IAAId,KAAK5E,KAAKd,MAAMyF,WAAYgB,IAAK,IAAIf,KAAK5E,KAAKd,MAAM2F,YACxGV,SAAQ,SAAAyB,GAAI,OAAIN,EAAa5E,KAAKkF,MAEhD,IAAIC,EAAWP,EAAatD,KAAI,SAACgD,GAC7B,IAAIC,EAAK,IAAIL,KAAKI,GAClB,OAAOJ,KAAKM,IAAID,EAAGE,cAAcF,EAAGG,WAAWH,EAAGI,cAEtD9I,IAAM,CACFgB,IAAI,GAAD,OAAKZ,wBAAL,yBAAoDqD,KAAK9B,MAAM0F,MAAMC,OAAOhD,GAA5E,sBACHrD,KAAMC,IAAGC,UAAUmI,GACnBjJ,iBAAiB,EACjBU,OAAQ,SAEXK,MAAK,SAAAC,GACF,EAAKM,MAAM4F,cAAclG,EAASJ,MAClC,EAAKU,MAAMuC,QAAQC,KAAnB,wBAAyC9C,EAASJ,KAAKmB,SAE1D0B,OAAM,SAAAV,GACH,EAAKN,SAAS,CAACM,e,+BAMnB,OACI,6BACI,kBAAC,IAAD,CACImG,QAAM,EACNG,aAAcjG,KAAKd,MAAMwF,aACzB1D,SAAUhB,KAAKJ,aACf+E,UAAW3E,KAAKd,MAAMyF,UACtBE,QAAS7E,KAAKd,MAAM2F,UAExB,yBAAKrG,UAAU,qCACX,4BAAQ2C,QAASnB,KAAK+E,gBAAiBhE,KAAK,UAA5C,gB,GA3FIiF,IAAMvG,WC+BfgF,E,4MAhCXvF,MAAQ,CACJwF,aAAc,M,kEAGE,IAAD,OACfnI,IAAM6C,IAAN,UAAazC,wBAAb,yBAA4DqD,KAAK9B,MAAMnB,KAAK4B,KAAO,CAAC/B,iBAAiB,IACpGe,MAAK,SAAAC,GACF,IACI8G,EADW9G,EAASJ,KAAKkH,aACD1C,KAAI,SAACgD,GAC7B,IAAIC,EAAK,IAAIL,KAAKI,GAClB,OAAOJ,KAAKM,IAAID,EAAGE,cAAcF,EAAGG,WAAWH,EAAGI,cAEtD,EAAKhG,SAAS,CAACqF,oBAElBrE,OAAO,SAAAV,GACJ,EAAKN,SAAS,CAACM,e,+BAKnB,OACI,6BACI,kBAAC,IAAD,CACImG,QAAM,EACNG,aAAcjG,KAAKd,MAAMwF,oB,GAzBrBsB,IAAMvG,W,QCJTyG,E,kDACjB,WAAYhI,GAAQ,IAAD,8BACf,cAAMA,IAKVgB,MAAQ,CACJiH,OAAS,GACTxG,MAAO,MANP,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKuG,UAAY,EAAKA,UAAUvG,KAAf,gBAHF,E,gEAYf,IAAIsG,EAAM,eAAOnG,KAAKd,MAAMiH,QAC5BA,EAAM,WAAiBnG,KAAK9B,MAAMqD,OAClCvB,KAAKX,SAAS,CAAC8G,a,mCAGNpG,GACT,IAAIoG,EAAM,eAAOnG,KAAKd,MAAMiH,QAC5BA,EAAOpG,EAAEE,OAAOC,MAAQH,EAAEE,OAAOE,MACjCH,KAAKX,SAAS,CAAC8G,a,gCAGTpG,GAAI,IAAD,OACTA,EAAEK,iBACFiG,SAASC,eAAe,UAAUC,QAClChK,IAAM,CACFgB,IAAI,GAAD,OAAKZ,wBAAL,uBACHa,KAAMC,IAAGC,UAAUsC,KAAKd,MAAMiH,QAC9BvJ,iBAAiB,EACjBU,OAAQ,SAEXK,MAAK,SAAAC,GACF,EAAKM,MAAMsI,aAAa5I,EAASJ,MACjC,EAAKU,MAAMuC,QAAQC,KAAnB,wBAAyC,EAAKxC,MAAMS,IAApD,gBAEH0B,OAAM,SAAAV,GACH,EAAKN,SAAS,CAAEM,e,+BAKpB,OACI,yBAAKnB,UAAU,qDACX,0BAAMA,UAAU,aAAaqC,GAAG,UAC5B,yBAAKrC,UAAU,cACX,2BAAOsC,QAAQ,UAAf,UACA,8BAAUtC,UAAU,eAAewC,SAAUhB,KAAKJ,aAAcM,KAAK,UAAUe,YAAY,oBAE/F,yBAAKzC,UAAU,cACX,2BAAOsC,QAAQ,SAAf,SACA,2BAAOC,KAAK,QAAQb,KAAK,QAAQ1B,UAAU,2BAA2BiI,IAAI,IAAIC,IAAI,KAAK1F,SAAUhB,KAAKJ,gBAE1G,4BAAQuB,QAASnB,KAAKoG,UAAWrF,KAAK,UAAtC,gB,GAtDmBtB,aCKlBkH,E,kDACjB,aAAe,IAAD,8BACV,gBAIJzH,MAAQ,CACJ0H,QAAS,IANC,EASdnE,YAAc3F,IAPV,EAAK0J,aAAe,EAAKA,aAAa3G,KAAlB,gBAFV,E,gEAWM,IAAD,OACftD,IAAM6C,IAAN,UAAazC,wBAAb,yBAA4DqD,KAAK9B,MAAMnB,KAAK4B,IAA5E,YAA2F,CAAC/B,iBAAiB,IAC5Ge,MAAK,SAAAC,GACF,IAAIgJ,EAAUhJ,EAASJ,KACvB,EAAK6B,SAAS,CAACuH,eAElBvG,OAAO,SAAAV,GACJ,EAAKN,SAAS,CAACM,e,mCAIV/B,GACT,IAAIgJ,EAAO,YAAO5G,KAAKd,MAAM0H,SAC7BA,EAAQlG,KAAK9C,EAAS,IACtBoC,KAAKX,SAAS,CACVuH,c,+BAKJ,OAA0B,OAAvB5G,KAAKd,MAAM0H,QAA0B,0DAEpC5G,KAAKyC,YAAY9D,MAAQqB,KAAK9B,MAAMnB,KAAK4B,MACzCyH,EAAY,kBAAC,EAAD,CAAW7E,OAAUvB,KAAK9B,MAAMnB,KAAK4B,IAAK6H,aAAcxG,KAAKwG,gBAIrE,yBAAKhI,UAAU,qDACX,yBAAKA,UAAU,UACX,wBAAIA,UAAU,QAAd,YAEJ,yBAAKA,UAAU,2DAEXwB,KAAKd,MAAM0H,QAAQ5E,KAAI,SAACmE,GAAD,OACf,yBAAK3H,UAAU,0BAA0B0D,IAAKqB,eAC1C,2BAAI4C,EAAOU,SACX,4BAAI,0BAAMrI,UAAU,oBAAhB,iBAAwD2H,EAAOW,SAAS5G,KAA5E,IAAkF,0BAAM1B,UAAU,oBAAhB,WAAkD2H,EAAOY,OAC3I,kCAMhB,yBAAKvI,UAAU,SACV4H,KAvBjB,IAAIA,M,GAjCyB3G,aC2BlBuH,E,kDAhCf,WAAY9I,GAAQ,IAAD,8BACf,cAAMA,IACD+I,YAAc,EAAKA,YAAYpH,KAAjB,gBAFJ,E,wDAKPE,GAAI,IAAD,OACXA,EAAEK,iBACF7D,IAAM,CACFgB,IAAI,GAAD,OAAKZ,wBAAL,gCAA2DqD,KAAK9B,MAAM0F,MAAMC,OAAOhD,IACtFjE,iBAAiB,EACjBU,OAAQ,SAEXK,MAAK,SAAAC,GACF,EAAKM,MAAMuC,QAAQC,KAAnB,yBAA0C9C,EAASJ,UAEtD6C,OAAM,SAAAV,GACH,EAAKN,SAAS,CAAEM,e,+BAKpB,OACI,yBAAKnB,UAAU,OACX,yBAAKA,UAAU,uCACX,4BAAQ2C,QAASnB,KAAKiH,aAAtB,sB,GAzBOxH,aC6KZyH,E,kDAjKX,WAAYhJ,GAAQ,IAAD,8BACf,cAAMA,IAOVgB,MAAQ,CACJnC,KAAM,KACNoK,MAAM,EACNxH,MAAO,KACPyH,cAAc,EACdC,aAAa,EACbC,UAAU,GAdK,EAiBnB7E,YAAc3F,IAfV,EAAKyK,UAAY,EAAKA,UAAU1H,KAAf,gBACjB,EAAK2H,YAAc,EAAKA,YAAY3H,KAAjB,gBACnB,EAAKiE,cAAgB,EAAKA,cAAcjE,KAAnB,gBACrB,EAAK4H,kBAAoB,EAAKA,kBAAkB5H,KAAvB,gBALV,E,gEAoBfG,KAAKuH,c,yCAGUG,GACX1H,KAAK9B,MAAM0F,MAAMC,OAAOhD,KAAO6G,EAAU9D,MAAMC,OAAOhD,IACtDb,KAAKuH,c,kCAID,IAAD,OACPhL,IAAM6C,IAAN,UAAazC,wBAAb,yBAA4DqD,KAAK9B,MAAM0F,MAAMC,OAAOhD,IAAM,CAACjE,iBAAiB,IAC3Ge,MAAK,SAAAC,GACF,IAAIb,EAAOa,EAASJ,KACpB,EAAK6B,SAAS,CAACtC,YAElBsD,OAAO,SAAAV,GACJ,EAAKN,SAAS,CAACM,e,kCAIXgI,GACR,OAAOA,GACH,IAAK,OACD3H,KAAKX,SAAS,CACV8H,MAAM,EACNS,UAAU,EACVP,aAAa,EACbC,UAAU,IAEd,MACJ,IAAK,WACDtH,KAAKX,SAAS,CACV8H,MAAM,EACNS,UAAU,EACVP,aAAa,EACbC,UAAU,IAEd,MACJ,IAAK,cACDtH,KAAKX,SAAS,CACV8H,MAAM,EACNS,UAAU,EACVP,aAAa,EACbC,UAAU,IAEd,MACJ,QACItH,KAAKX,SAAS,CACV8H,MAAM,EACNS,UAAU,EACVP,aAAa,EACbC,UAAU,O,oCAKZ1J,GACVoC,KAAKuH,YACLvH,KAAKX,SAAS,CACV8H,MAAM,EACNS,UAAU,EACVP,aAAa,EACbC,UAAU,M,0CAIE,IAAD,OACf/K,IAAM6C,IAAN,UAAazC,wBAAb,yBAA4DqD,KAAK9B,MAAM0F,MAAMC,OAAOhD,GAApF,WAAiG,CAACjE,iBAAiB,IAClHe,MAAK,WACFI,IACA,EAAKG,MAAMuC,QAAQC,KAAnB,QAEHL,OAAM,SAAAC,GACH,EAAKjB,SAAS,CACVM,MAAOW,EAAI1C,SAASJ,KAAK2B,e,+BAK3B,IAAD,OACL,OAAuB,OAApBa,KAAKd,MAAMnC,KAAsB,kBAAC,EAAD,KAAS,yBAAKyB,UAAU,sDAAqD,8BAAW,8BAAW,8BAAW,gCAC9IwB,KAAKyC,YAAY9D,MAAQqB,KAAK9B,MAAM0F,MAAMC,OAAOhD,GAE7C,kBAAC,EAAD,KACI,yBAAKrC,UAAU,mBACX,kBAAC,EAAD,CAAazB,KAAQiD,KAAKd,MAAMnC,OAChC,yBAAKyB,UAAU,kCACX,yBAAKA,UAAU,kBACX,4DAGJ,yBAAKA,UAAU,kCACX,yBAAKA,UAAU,sBACVwB,KAAKd,MAAMoI,UAAY,kBAAC,EAAD,CAAUvK,KAAQiD,KAAKd,MAAMnC,OACpDiD,KAAKd,MAAMiI,MAAQ,kBAAC,IAAD,CAAOhJ,KAAI,yBAA4BoG,OAAQ,SAACrG,GAAD,OAAW,kBAAC,EAAD,iBAAiBA,EAAjB,CAAwBnB,KAAM,EAAKmC,MAAMnC,KAAM+G,cAAe,EAAKA,oBAChJ9D,KAAKd,MAAM0I,UAAY,kBAAC,IAAD,CAAOzJ,KAAI,8BAAiCoG,OAAQ,SAACrG,GAAD,OAAW,kBAAC,EAAD,iBAAeA,EAAf,CAAsBnB,KAAM,EAAKmC,MAAMnC,KAAM+G,cAAe,EAAKA,oBACvJ9D,KAAKd,MAAMmI,aAAe,kBAAC,IAAD,CAAOlJ,KAAI,uCAA0CoG,OAAQ,SAACrG,GAAD,OAAW,kBAAC2J,EAAD,iBAAiB3J,EAAjB,CAAwBnB,KAAM,EAAKmC,MAAMnC,KAAM+G,cAAe,EAAKA,qBAE1K,yBAAKtF,UAAU,4DACX,kBAAC,IAAD,CAAMA,UAAU,wBAAwBH,GAAE,wBAAmB2B,KAAK9B,MAAM0F,MAAMC,OAAOhD,GAA3C,SAAsDM,QAAS,kBAAM,EAAKqG,YAAY,UAAhI,gBACA,kBAAC,IAAD,CAAMhJ,UAAU,wBAAwBH,GAAE,wBAAmB2B,KAAK9B,MAAM0F,MAAMC,OAAOhD,GAA3C,uBAAoEM,QAAS,kBAAM,EAAKqG,YAAY,iBAA9I,uBACA,kBAAC,IAAD,CAAMhJ,UAAU,wBAAwBH,GAAE,wBAAmB2B,KAAK9B,MAAM0F,MAAMC,OAAOhD,GAA3C,cAA2DM,QAAS,kBAAM,EAAKqG,YAAY,cAArI,wBACA,4BAAQhJ,UAAU,wBAAwB2C,QAASnB,KAAKyH,kBAAmB1G,KAAK,UAAhF,0BAKZ,yBAAKvC,UAAU,yCACX,yBAAKA,UAAU,kBACX,kBAAC,EAAD,CAASzB,KAAMiD,KAAKd,MAAMnC,WAQ1C,kBAAC,EAAD,KACI,yBAAKyB,UAAU,mBACP,kBAACsJ,EAAD,iBAAoB9H,KAAK9B,MAAzB,CAAgCM,UAAU,YAC1C,kBAAC,EAAD,CAAazB,KAAQiD,KAAKd,MAAMnC,OAChC,yBAAKyB,UAAU,yCACX,yBAAKA,UAAU,kBACX,yDAEJ,yBAAKA,UAAU,gDACX,kBAAC,EAAD,CAAUzB,KAAQiD,KAAKd,MAAMnC,SAGrC,yBAAKyB,UAAU,yCACX,yBAAKA,UAAU,kBACX,kBAAC,EAAD,CAASzB,KAAMiD,KAAKd,MAAMnC,e,GAxJxC0C,a,iBC4BPsI,I,8KAlCP,OACI,yBAAKvJ,UAAU,iCACVwB,KAAK9B,MAAMnB,KACZ,oCAEI,4CACA,yBAAKyB,UAAU,yDACX,kBAAC,IAAD,CAAMH,GAAE,wBAAmB2B,KAAK9B,MAAMnB,KAAK4B,KAAOH,UAAU,oEACxD,uBAAGA,UAAU,aAAY,+CACzB,uBAAGA,UAAU,0BAA0BwB,KAAK9B,MAAMnB,KAAKoF,YAG/D,yBAAK3D,UAAU,yDACX,yBAAKA,UAAU,uDACX,uBAAGA,UAAU,aAAY,mDACzB,uBAAGA,UAAU,aAAawB,KAAK9B,MAAMnB,KAAKqF,MAC1C,uBAAG5D,UAAU,aAAY,iDACzB,uBAAGA,UAAU,aAAawB,KAAK9B,MAAMnB,KAAKsF,iBAC1C,uBAAG7D,UAAU,aAAY,2CACzB,uBAAGA,UAAU,aAAawB,KAAK9B,MAAMnB,KAAKmD,SAOlD,oD,GA7BKT,cCJrBuI,I,OAAY,CACZC,OAAQ,UAGNC,G,uKAGE,OACI,yBAAKC,MAAOH,GAAWI,IAAKpI,KAAK9B,MAAMmK,SAAU7J,UAAU,+B,GAJjDwH,IAAMvG,WAUbuG,OAAMsC,YAAW,SAACpK,EAAMkK,GAAP,OAAc,kBAAC,GAAD,eAASC,SAAUD,GAASlK,OCN1EqK,IAASC,YAAT,UAA0B7L,iG,IAEL8L,G,kDACjB,WAAYvK,GAAQ,IAAD,8BACf,cAAMA,IACDwK,WAAa,EAAKA,WAAW7I,KAAhB,gBAElB,EAAKX,MAAQ,CAETwC,MAAO,GACP3E,KAAM,MAEV,EAAK4L,OAAS3C,IAAM4C,YATL,E,gEAaE,IAAD,OACV5G,EAAM,IAAIuG,IAASE,IAAI,CACzBI,UAAW7I,KAAK2I,OAAOG,QACvBX,MAAO,qCACPY,OAAQ,CAAC,EAAG,IACZC,KAAM,IAGVhH,EAAIiH,GAAG,QAAQ,WACX,EAAK5J,SAAS,CACV6J,IAAKlH,EAAImH,YAAYD,IAAIE,QAAQ,GACjCC,IAAKrH,EAAImH,YAAYE,IAAID,QAAQ,GACjCJ,KAAMhH,EAAIsH,UAAUF,QAAQ,QAGpC,IAAMG,EAAavJ,KAAK9B,MAAMuC,QACxB+I,EAASxJ,KACfzD,IAAM,CACFgB,IAAI,GAAD,OAAKZ,wBAAL,cACHW,OAAQ,MACRV,iBAAiB,IAEpBe,MAAK,SAAAC,GACFA,EAASJ,KAAK2G,SAAQ,SAACpH,GACnB,IAAI0M,EAAKpD,SAASqD,cAAc,OAChCD,EAAGjL,UAAY,SACfiL,EAAGtB,MAAMwB,gBAAiB,mBAC1BF,EAAGtB,MAAMyB,eAAiB,UAC1BH,EAAGtB,MAAM0B,MAAQ,OACjBJ,EAAGtB,MAAMF,OAAS,OAClBwB,EAAGtB,MAAM2B,IAAM,QACfL,EAAGM,iBAAiB,SAAS,WACzBP,EAAQnK,SAAS,CAACtC,SAClBwM,EAAW7I,KAAX,sBAA+B3D,EAAK4B,SAGxC,IAAI4J,IAASyB,OAAOP,GACnBQ,UAAUlN,EAAKmN,SAASC,aACxBC,MAAMpI,MAEX,EAAK3C,SAAS,CAACqC,MAAO9D,EAASJ,Y,iCAI5BI,GACP,IAAIb,EAAOa,EACXoC,KAAKX,SAAS,CAACtC,W,+BAGT,IAAD,OACL,OACI,kBAAC,EAAD,KACI,yBAAKyB,UAAU,gCACX,kBAAC,GAAD,iBAAawB,KAAK9B,MAAlB,CAAyBkK,IAAKpI,KAAK2I,UAEnC,kBAAC,IAAD,CAAO0B,OAAK,EAAClM,KAAK,sBAAsBoG,OAAQ,SAACrG,GAAD,OAAU,kBAAC,GAAD,CAAYnB,KAAM,EAAKmC,MAAMnC,gB,GArE1E0C,aC4ClBuH,G,kDAlDX,WAAY9I,GAAO,IAAD,8BACd,cAAMA,IAKVgB,MAAQ,CACJC,QAAS,GACTQ,MAAO,MANP,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKyK,YAAc,EAAKA,YAAYzK,KAAjB,gBAHL,E,yDAWLE,GACT,IAAIZ,EAAO,eAAQa,KAAKd,MAAMC,SAC9BA,EAAQY,EAAEE,OAAOC,MAAQH,EAAEE,OAAOE,MAClCH,KAAKX,SAAS,CAAEF,c,kCAGRY,GAAI,IAAD,OACXA,EAAEK,iBACFiG,SAASC,eAAe,gBAAgBC,QACxChK,IAAM,CACFgB,IAAI,GAAD,OAAKZ,wBAAL,2BAAsDqD,KAAK9B,MAAMqM,QACpE/M,KAAMC,IAAGC,UAAUsC,KAAKd,MAAMC,SAC9BvC,iBAAiB,EACjBU,OAAQ,SAEXK,MAAK,SAAAC,GACF,IAAIuB,EAAUvB,EAASJ,KAAK,GAC5B,EAAKU,MAAMoM,YAAYnL,GACvB,EAAKjB,MAAMuC,QAAQC,KAAnB,yBAA0C,EAAKxC,MAAMqM,YAExDlK,OAAM,SAAAV,GACH,EAAKN,SAAS,CAAEM,e,+BAKpB,OACA,yBAAKnB,UAAU,gBACX,0BAAMqC,GAAG,gBACL,yBAAKrC,UAAU,cACX,8BAAUA,UAAU,eAAewC,SAAUhB,KAAKJ,aAAcM,KAAK,UAAUe,YAAY,kBAE/F,4BAAQE,QAASnB,KAAKsK,YAAavJ,KAAK,UAAxC,c,GA5CWtB,aCkERuH,G,kDAjEf,WAAY9I,GAAO,IAAD,8BACd,cAAMA,IAMVgB,MAAQ,CACJsL,SAAU,GACV7K,MAAO,MAPP,EAAK8K,cAAgB,EAAKA,cAAc5K,KAAnB,gBACrB,EAAK6K,QAAU,EAAKA,QAAQ7K,KAAb,gBACf,EAAKyK,YAAc,EAAKA,YAAYzK,KAAjB,gBAJL,E,gEAYG,IAAD,OAChBtD,IAAM6C,IAAN,UAAazC,wBAAb,iCAAoEqD,KAAK9B,MAAM0F,MAAMC,OAAO8G,gBAAkB,CAAC/N,iBAAiB,IAC/He,MAAK,SAAAC,GACF,IAAI4M,EAAW5M,EAASJ,KACxB,EAAK6B,SAAS,CAACmL,gBAElBnK,OAAM,SAAAV,GACH,EAAKN,SAAS,CAACM,e,oCAITiL,GAGV,OAFW,IAAIhG,KAAKgG,GACKC,iB,8BAIrBD,GACJ,IAAIhF,EAAO,IAAIhB,KAAKgG,GAChBE,EAAQlF,EAAKmF,WACFD,EAAdA,EAAQ,GAAW,WAAOA,GAAe,UAAMA,GAChD,IAAIE,EAAUpF,EAAKqF,aAGnB,OAFiBD,EAAhBA,EAAU,GAAa,WAAOA,GAAmB,UAAMA,GAChD,UAAMF,EAAN,YAAeE,K,kCAIfpN,GACR,IAAI4M,EAAQ,YAAOxK,KAAKd,MAAMsL,UAC9BA,EAAS9J,KAAK9C,GACdoC,KAAKX,SAAS,CACVmL,e,+BAIE,IAAD,OACL,OACA,yBAAKhM,UAAU,gBAEPwB,KAAKd,MAAMsL,UAAYxK,KAAKd,MAAMsL,SAASxI,KAAI,SAAA7C,GAAO,OAClD,yBAAKX,UAAY,UAAU0D,IAAK/C,EAAQR,KACpC,2BAAIQ,EAAQA,SACZ,2BAAG,2BAAIA,EAAQ+L,KAAKtM,SAAjB,MAA8B,EAAK6L,cAActL,EAAQgM,WAAzD,IAAsE,EAAKT,QAAQvL,EAAQgM,aAC9F,iCAIZ,kBAACC,GAAD,CAAad,YAAatK,KAAKsK,YAAaC,OAAM,UAAKvK,KAAK9B,MAAM0F,MAAMC,OAAO8G,uB,GA5DhElL,aCoDZ4L,I,mNA9CbnM,MAAQ,CACNoM,cAAe,GACf3L,MAAO,M,kEAGY,IAAD,OAClBpD,IAAM6C,IAAN,UAAazC,wBAAb,kCAA6E,CAACC,iBAAiB,IAC9Fe,MAAK,SAAAC,GACJ,IAAI0N,EAAgB1N,EAASJ,KAC7B,EAAK6B,SAAS,CAACiM,qBAEhBjL,OAAM,SAAAV,GACL,EAAKN,SAAS,CAACM,e,+BAKjB,OAAuC,IAApCK,KAAKd,MAAMoM,cAAcxJ,OAAqB,kBAAC,EAAD,KAAS,qFAEtD,kBAAC,EAAD,KACA,yBAAKtD,UAAU,0BACb,yBAAKA,UAAU,SACb,qCAEAwB,KAAKd,MAAMoM,eAAiBtL,KAAKd,MAAMoM,cAActJ,KAAI,SAAAuJ,GAAY,OACnE,yBAAKrJ,IAAKqJ,EAAa,GAAG5M,KAE1B,kBAAC,IAAD,CAAMN,GAAE,yBAAoBkN,EAAa,KACrC,uBAAG/M,UAAU,qBAAqB+M,EAAa,GAAG3M,gBAM1D,yBAAKJ,UAAU,SACb,wCACA,kBAAC,IAAD,CAAOL,KAAK,iCAAiCoG,OAAQ,SAAArG,GAAK,OAAG,kBAAC,GAAD,eAAcgE,IAAKqB,eAAWrF,c,GArCxEuB,cCMhB+L,I,8KATP,OACI,kBAAC,EAAD,KACI,8CACA,yBAAM/M,IAAI,wDAAwDC,IAAI,iB,GAL3De,cC8BZgM,G,uKAlBX,OACE,yBAAKjN,UAAU,OACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO6L,OAAK,EAAClM,KAAK,IAAIC,UAAWa,IACjC,kBAAC,IAAD,CAAOoL,OAAK,EAAClM,KAAK,eAAeC,UAAWsB,IAC5C,kBAAC,IAAD,CAAO2K,OAAK,EAAClM,KAAK,cAAcC,UAAWgD,IAC3C,kBAAC,IAAD,CAAOiJ,OAAK,EAAClM,KAAK,eAAeC,UAAWoD,IAC5C,kBAAC,IAAD,CAAO6I,OAAK,EAAClM,KAAK,cAAcC,UAAWqD,IAC3C,kBAAC,EAAD,CAActD,KAAK,oBAAoBG,WAAW,cAAcF,UAAW8I,IAC3E,kBAAC,IAAD,CAAO/I,KAAK,OAAOC,UAAWqK,KAC9B,kBAAC,EAAD,CAActK,KAAK,iBAAiBG,WAAW,aAAaF,UAAWiN,KACvE,kBAAC,IAAD,CAAOlN,KAAK,IAAIC,UAAWoN,W,GAbnB/L,aCFEiM,QACW,cAA7BxO,OAAOyO,SAASC,UAEe,UAA7B1O,OAAOyO,SAASC,UAEhB1O,OAAOyO,SAASC,SAAShI,MACvB,2D,OCVNiI,IAAStH,OACP,kBAAC,IAAD,KACE,kBAAC,GAAD,OAEF8B,SAASC,eAAe,SDuHpB,kBAAmBwF,WACrBA,UAAUC,cAAcC,MACrBrO,MAAK,SAAAsO,GACJA,EAAaC,gBAEd7L,OAAM,SAAAV,GACLY,QAAQZ,MAAMA,EAAMR,a","file":"static/js/main.8c4c4419.chunk.js","sourcesContent":["import Axios from \"axios\";\nimport qs from \"qs\";\n\nconst axios = Axios.create({\n    baseURL: process.env.REACT_APP_BASE_URL,\n    withCredentials: true,\n    headers: { 'content-type': 'application/x-www-form-urlencoded' }\n});\n\nexport const signup = (user)=>{\n    return axios({\n        method: \"POST\",\n        url: \"/user/signup\",\n        data: qs.stringify(user)\n    })\n    .catch(err => console.log(err));\n}\n\nexport const setUser = (user)=> {\n    window.localStorage.setItem(\"user\", JSON.stringify(user));\n}\n\nexport const getUser = (user)=> {\n    return JSON.parse(window.localStorage.getItem(\"user\"));\n}\n\nexport const login = (user)=>{\n    return axios({\n        method: \"POST\",\n        url: \"/user/login\",\n        data: qs.stringify(user)\n    })\n    .then((response)=> {        \n        setUser(response.data);\n    })\n}\n\nexport const logout = ()=>{\n    return axios.get(\"/user/logout\")\n    .then(()=> {        \n        removeUser();\n    })\n}\n\nexport const removeUser = (user)=> {\n    window.localStorage.removeItem(\"user\");\n}\n\nexport const userIsLoggedIn = (user)=> {\n    let isLoggedIn;\n    (window.localStorage.getItem(\"user\")) ? isLoggedIn = true : isLoggedIn = false;\n    return isLoggedIn;\n}","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { userIsLoggedIn } from './auth';\n\nconst ProtectRoute = (props) => {\n    if(!userIsLoggedIn()) return <Redirect to = {props.redirectTo} />\n    else return <Route path={props.path} component = {props.component} />\n}\n\nexport default ProtectRoute;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { getUser } from '../utils/auth';\nimport '../layouts/Navbar.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSignOutAlt } from '@fortawesome/free-solid-svg-icons';\n\nfunction Navbar() {\n  let user = getUser();\n\n  if (user) {\n    return(\n      <div className=\"navbar navbar-expand-lg navbar-light\">\n        <div className=\"container-fluid nav\">\n          <div className=\"brand\">\n            <Link className=\"nav-link navbar-icon img-fluid\" to='/'>\n              <img src=\"/HomeSwap4.png\" alt=\"HomeSwap\" />\n            </Link>\n          </div>\n          {/* <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n          <div className=\"collapse navbar-collapse nav-list\" id=\"navbarNav\"> */}\n            <ul className=\"navbar-nav\">\n              <li className=\"nav-item\">\n                <Link className=\"nav-link p-2\" to='/properties'>List</Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link className=\"nav-link p-2\" to='/map'>Map</Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link className=\"nav-link p-2\" to='/conversations'>My Messages</Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link className=\"nav-link p-2\" to={`/user/profile/${user._id}`}>Welcome {user.username}</Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link className=\"nav-link p-2\" to='/user/logout'><FontAwesomeIcon icon={faSignOutAlt}/></Link>\n              </li>\n            </ul>\n          {/* </div> */}\n        </div>\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"navbar navbar-expand-lg navbar-light\">\n        <div className=\"container-fluid nav\">\n          <div className=\"brand\">\n            <Link className=\"nav-link navbar-icon\" to='/'>\n              <img src=\"/HomeSwap4.png\" alt=\"HomeSwap\" />\n            </Link>\n          </div>\n          {/* <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n          <div className=\"collapse navbar-collapse nav-list\" id=\"navbarNav\"> */}\n            <ul className=\"navbar-nav\">\n              <li className=\"nav-item\">\n                <Link className=\"nav-link p-2\" to='/properties'>List</Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link className=\"nav-link p-2\" to='/map'>Map</Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link className=\"nav-link p-2\" to='/user/login'>Login</Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link className=\"nav-link p-2\" to='/user/signup'>Sign up</Link>\n              </li>\n            </ul>\n          {/* </div> */}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Navbar;\n","import React from 'react';\nimport Navbar from '../components/Navbar';\nimport '../layouts/Style.css';\n\n\n\nfunction Default(props) {\n    return(\n        <div>\n            <Navbar />\n            {props.children}\n        </div>\n\n    )\n}\n\nexport default Default;","import React, { Component } from 'react';\nimport axios from 'axios';\nimport Default from '../layouts/Default';\nimport Carousel from 'react-bootstrap/Carousel';\nimport '../layouts/loading.css'\n\nclass Home extends Component {\n  state = {\n    message: null,\n  }\n\n  componentDidMount() {\n    axios.get(`${process.env.REACT_APP_BASE_URL}`, {withCredentials: true})\n    .then(response => {\n      this.setState({\n        message: response.data.message\n      })\n    })\n  }\n\n  render() {\n    return(\n        <Default>\n          <div className=\"container-fluid\">\n            <div className=\"row\">\n            <Carousel>\n                <Carousel.Item>\n                  <img\n                    className=\"d-block w-100\"\n                    src=\"holder.js/800x400?text=First slide&bg=373940\"\n                    alt=\"First slide\"\n                  />\n                  <Carousel.Caption>\n                    <h3>First slide label</h3>\n                    <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>\n                  </Carousel.Caption>\n                </Carousel.Item>\n                <Carousel.Item>\n                  <img\n                    className=\"d-block w-100\"\n                    src=\"holder.js/800x400?text=Second slide&bg=282c34\"\n                    alt=\"Third slide\"\n                  />\n\n                  <Carousel.Caption>\n                    <h3>Second slide label</h3>\n                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\n                  </Carousel.Caption>\n                </Carousel.Item>\n                <Carousel.Item>\n                  <img\n                    className=\"d-block w-100\"\n                    src=\"holder.js/800x400?text=Third slide&bg=20232a\"\n                    alt=\"Third slide\"\n                  />\n\n                  <Carousel.Caption>\n                    <h3>Third slide label</h3>\n                    <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>\n                  </Carousel.Caption>\n                </Carousel.Item>\n              </Carousel>\n\n            </div>\n\n          </div>\n        </Default>\n    )\n  }\n}\n\nexport default Home;\n\n","import React, { Component } from \"react\";\nimport Default from '../layouts/Default';\nimport { signup } from \"../utils/auth\";\n\nclass Signup extends Component {\n    constructor(props) {\n        super(props);\n        this.handleChange = this.handleChange.bind(this);\n        this.signUpUser = this.signUpUser.bind(this);\n    }\n\n    state = {\n        user: {},\n        error: null\n    }\n\n    handleChange(e) {\n        let user = {...this.state.user};\n        user[e.target.name] = e.target.value;\n        this.setState({user});\n    }\n\n    signUpUser(e) {\n        e.preventDefault();\n        signup(this.state.user)\n        .then(() => {\n            this.props.history.push(`/user/login`);\n        })\n        .catch(err => {\n            this.setState({error: err.response.data.errorMessage});\n        });\n    }\n\n    render() {\n        return (\n            <Default>\n                <div class=\"container d-flex justify-content-center my-3\">\n                    <div class=\"col-8\">\n                        <form id=\"form\">\n                            <h2 className=\"mb-4\">Signup</h2>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"username\">Username</label>\n                                <input className=\"form-control\" type=\"text\" onChange={this.handleChange} name=\"username\" placeholder=\"Username\" />\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"firstname\">Name</label>\n                                <input className=\"form-control\" type=\"text\" onChange={this.handleChange} name=\"name\" placeholder=\"Name\" />\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"email\">Email</label>\n                                <input className=\"form-control\" type=\"text\" onChange={this.handleChange} name=\"email\" placeholder=\"Email\" />\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"email\">City</label>\n                                <input className=\"form-control\" type=\"text\" onChange={this.handleChange} name=\"city\" placeholder=\"City\" />\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"password\">Password</label>\n                                <input className=\"form-control\" type=\"password\" onChange={this.handleChange} name=\"password\" placeholder=\"Password\" />\n                            </div>\n                            <div className=\"form-group\">\n                                <label className=\"form-label\" for=\"Name\">Address</label>\n                                <input type=\"text\"  className=\"form-control form-box\" name=\"address\" onChange={this.handleChange} placeholder=\"Address and city\"/>\n                            </div>\n                            \n                            <button onClick={this.signUpUser} type=\"submit\">Submit</button>\n                        </form>\n                    </div>\n                </div>\n                {this.state.error && <p>{this.state.error}</p>}\n            </Default>\n        )\n    }\n}\n\nexport default Signup;","import React, { Component } from \"react\";\nimport Default from '../layouts/Default';\nimport { login, getUser } from \"../utils/auth\";\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        this.handleChange = this.handleChange.bind(this);\n        this.loginUser = this.loginUser.bind(this);\n    }\n\n    state = {\n        user: {\n            username: \"\",\n            password: \"\"\n        },\n        error: null\n    }\n\n    handleChange(e) {\n        let user = {...this.state.user};\n        user[e.target.name] = e.target.value;\n        this.setState({user});\n    }\n\n    loginUser(e) {\n        e.preventDefault();\n        login(this.state.user)\n        .then(() => {\n            let userId = getUser();\n            this.props.history.push(`/user/profile/${userId._id}`);\n        })\n        .catch(err => {\n            this.setState({error: err.response.data.errorMessage});\n        });\n    }\n\n    render() {\n        return (\n            <Default>\n                <div className=\"container d-flex justify-content-center my-3\">\n                    <div className=\"col-8\">\n                        <div id=\"form\">\n                            <h2 className=\"mb-4\">Login</h2>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"username\">Username or email</label>\n                                <input className=\"form-control\" type=\"text\" onChange={this.handleChange} name=\"usernameOrEmail\" placeholder=\"Username or email\" />\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"password\">Password</label>\n                                <input className=\"form-control\" type=\"password\" onChange={this.handleChange} name=\"password\" placeholder=\"Password\" />\n                            </div>\n                            \n                            <button onClick={this.loginUser} type=\"submit\">Submit</button>\n                        </div>\n                    </div>\n                    {this.state.error && <p>{this.state.error}</p>}\n                </div>\n            </Default>\n        )\n    }\n}\n\nexport default Login;","import React, { Component } from \"react\";\nimport Default from '../layouts/Default';\nimport { logout } from \"../utils/auth\";\n\nclass Logout extends Component {\n    componentDidMount(){\n        logout()\n        .then(() => {\n            this.props.history.push(\"/\")\n        })        \n        .catch (error => {\n            this.setState({error});\n        })\n    }\n\n    render() {\n        return (\n            <Default>\n                <div className=\"container-fluid\">\n                <h2 className=\"mb-4\">See you soon!</h2>\n                </div>\n            </Default>\n        )\n    }\n}\n\nexport default Logout;","import React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom'; \nimport Default from '../layouts/Default';\nimport '../layouts/loading.css';\nimport '../layouts/List.css';\n\n\n\nclass List extends Component {\n    constructor(props) {\n        super(props);\n        this.searchProperties = this.searchProperties.bind(this);\n    }\n\n    state = {\n        users: null,\n        filteredUsers: null\n    }\n\n    componentDidMount(){\n        axios.get(`${process.env.REACT_APP_BASE_URL}/user/list`, {withCredentials: true})\n        .then(response => {\n            this.setState({users: response.data, filteredUsers: response.data});\n        })\n        .catch (error => {\n            this.setState({error});\n        });\n    }\n\n    searchProperties(e){\n        let searchTerm = e.target.value;\n        if (searchTerm.length === 0){\n            return this.setState({filteredUsers: this.state.users})\n        }\n        axios({\n            url:`${process.env.REACT_APP_BASE_URL}/user/search?q=${searchTerm}`,\n            method: \"GET\",\n            withCredentials: true\n        })\n        .then(response => {\n            if (response.data.length === 0){\n                return;\n            } else {\n                this.setState({filteredUsers: response.data});\n            }\n        });\n    } \n\n    render() {\n        if(this.state.users === null) return <Default><div className=\"lds-ring col-12 d-flex justify-content-center mt-5\"><div></div><div></div><div></div><div></div></div></Default>;\n            return(\n                <Default>\n                    <div className=\"container-fluid\">\n                        <div className=\"row d-flex justify-content-end my-2\">\n                            <form className=\"form-inline mt-3 mr-4\">\n                                <input className =\"form-control mr-sm-2\" \n                                    type=\"text\"\n                                    aria-label=\"Search\"\n                                    placeholder=\"Search properties\"\n                                    onChange={this.searchProperties}\n                                />\n                            </form>\n                        </div>\n                    </div>\n                    <div className=\"container-fluid center-box\">\n                        <div className=\"row m-3\">\n                        {\n                            this.state.filteredUsers.map(user =>\n                                user.pictures.length > 0 &&\n                                <div key={user._id} className=\"col-sm-12 col-md-6 col-xl-4 my-2 d-flex justify-content-around\">\n                                    <Link to={`/user/profile/${user._id}`} className=\"user-card\">\n                                        <div className=\"card\">\n                                            <h5 className=\"card-title p-2\">{user.homeName}</h5>\n                                            <img src={user.pictures[0].path} className=\"card-img-top image-responsive\" alt=\"\"/>\n                                            <div className=\"card-body\">\n                                                <p className=\"card-text\">{user.city}</p>\n                                                <p className=\"card-text\">{user.homeDescription}</p>\n                                            </div>\n                                        </div>\n                                    </Link>\n                                </div>\n                                \n                                )\n                            }\n                        </div>\n                    </div>\n                </Default>\n            )\n\n    }\n}\n\nexport default List;\n\n\n","import axios from 'axios';\nimport { getUser } from '../utils/auth'\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_BASE_URL,\n  withCredentials: true \n});\n\nconst errorHandler = err => {\n  // console.error(err);\n  throw err;\n};\n\nexport default {\n  service,\n\n  handleUpload (theFile) {\n    let currentUser = getUser();\n    return service.post(`/user/profile/${currentUser._id}/edit`, theFile)\n      .then(res => res.data)\n      .catch(errorHandler);\n  }\n}\n","import React, { Component } from 'react';\nimport service from \"../utils/service\";\nimport uid from 'uid';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\n\n\n\nclass EditProfilePictures extends Component {\n    constructor(props) {\n        super(props);\n        this.handleFileUpload = this.handleFileUpload.bind(this);\n    }\n    \n    state = {\n        pictures: []\n    }\n\n    handleFileUpload(e) {\n        console.log(\"The file to be uploaded is: \", e.target.files[0]);\n        const uploadData = new FormData();\n        uploadData.append(\"pictures\", e.target.files[0]);\n        service.handleUpload(uploadData)\n            .then(response => {\n                console.log('response is: ', response);\n                this.setState({ pictures: response.pictures });\n                this.props.addPicture(response.pictures.pop());\n            })\n            .catch(err => {\n                console.log(\"Error while uploading the file: \", err);\n            });\n    }\n\n    render() {\n        let pictures = this.props.user.pictures;\n        return (\n            <div className=\"row\">\n                {\n                    pictures && pictures.map(picture => \n                        <div key={picture._id} className=\"col-md-12 col-lg-6 d-flex justify-content-center\">\n                            <img src={picture.path} alt={picture.name} className=\"col-10 m-1\"/>\n                            <div className=\"col-2\">\n                                <button type=\"submit\" className=\"p-2 \" onClick = {() => this.props.deletePictures(picture._id)}><FontAwesomeIcon icon={faTrash}/></button>\n                            </div>\n                        </div>\n                    )\n                }\n                <input onChange={(e) => this.handleFileUpload(e)} key={uid()} type='file' name='pictures' className=\"form-control-file\" />  \n          \n                {this.state.error && <p>{this.state.error}</p>}\n            </div>\n        )\n    }\n}\n\nexport default EditProfilePictures;","import React, { Component } from 'react';\nimport { Route } from 'react-router-dom'; \nimport axios from 'axios';\nimport qs from 'qs';\nimport EditProfilePictures from './EditProfilePictures'\n\nclass EditProfile extends Component {\n    constructor() {\n        super();\n        this.handleChange = this.handleChange.bind(this);\n        this.editProfile = this.editProfile.bind(this);\n        this.addPictureHandler = this.addPictureHandler.bind(this);\n        this.deletePicturesHandler = this.deletePicturesHandler.bind(this);\n    }\n\n    state = {\n        user: {},\n        error: null\n    }\n\n    componentDidMount() {\n        axios({\n            url: `${process.env.REACT_APP_BASE_URL}/user/profile/${this.props.match.params.id}`,\n            withCredentials: true,\n            method: 'GET'\n        })\n        .then(response => {\n            let user = response.data;\n            this.setState({ user });\n        })\n        .catch(error => {\n            this.setState({ error });\n        })\n    }\n\n    handleChange(e) {\n        let user = { ...this.state.user };\n        user[e.target.name] = e.target.value;\n        this.setState({ user });\n    }\n   \n    editProfile(e) {\n        e.preventDefault();\n        axios({\n            url: `${process.env.REACT_APP_BASE_URL}/user/profile/${this.props.match.params.id}/edit`,\n            data: qs.stringify(this.state.user),\n            withCredentials: true,\n            method: \"POST\"\n        })\n        .then(response => {\n            this.props.profileUpdate(response.data);\n            this.props.history.push(`/user/profile/${response.data._id}`);\n        })\n        .catch(error => {\n            this.setState({ error });\n        })\n    }\n\n    addPictureHandler(uploadedPicture) {\n        let userCopy = JSON.parse(JSON.stringify(this.state.user));\n        userCopy.pictures.push(uploadedPicture)\n        this.setState({\n            user: userCopy\n        })\n    }\n\n    deletePicturesHandler(pictureId){\n        axios({\n            url: `${process.env.REACT_APP_BASE_URL}/user/profile/${this.props.match.params.id}/edit/delete/${pictureId}`,\n            withCredentials: true,\n            method: 'GET'\n        })\n        .then(response => {\n            let userCopy = JSON.parse(JSON.stringify(this.state.user));\n            let indexN;\n            userCopy.pictures.forEach((picture, index) => {if(picture._id === pictureId) indexN = index});\n            userCopy.pictures.splice(indexN, 1);\n            this.setState({ user: userCopy })\n        })\n        .catch(error => {\n            this.setState({ error });\n        })\n    }\n\n    render() {\n        return(\n            <div>\n                <form onSubmit={this.editProfile}>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"firstname\">Name</label>\n                        <input className=\"form-control\" type=\"text\" onChange={this.handleChange} name=\"name\" value={this.state.user.name} placeholder=\"First name\" />\n                    </div>\n                    <div className=\"form-group \">\n                        <label htmlFor=\"lastname\">Home name</label>\n                        <input className=\"form-control\" type=\"text\" onChange={this.handleChange} name=\"homeName\" value={this.state.user.homeName} placeholder=\"Home name\" />\n                    </div>\n                    <div className=\"form-group \">\n                        <label htmlFor=\"email\">Home description</label>\n                        <textarea className=\"form-control\" onChange={this.handleChange} name=\"homeDescription\" value={this.state.user.homeDescription} placeholder=\"Home description\" />\n                    </div>\n                    <div className=\"form-group \">\n                        <label htmlFor=\"email\">City</label>\n                        <input className=\"form-control\" type=\"text\" onChange={this.handleChange} name=\"city\" value={this.state.user.city} placeholder=\"City\" />\n                    </div>\n                </form>\n                {<Route path={`/user/profile/:id/edit`} render={() => <EditProfilePictures addPicture={this.addPictureHandler} deletePictures={this.deletePicturesHandler} user = {this.state.user} />} />}\n                {this.state.error && <p>{this.state.error}</p>}\n                <div className=\"col justify-content-center d-flex\">\n                    <button onClick={this.editProfile}>Submit</button>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default EditProfile;","import React, { Component } from 'react';\nimport '../layouts/Profile.css';\nimport Carousel from 'react-bootstrap/Carousel';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nclass ProfileCard extends Component {\n    render() {\n        let pictures = this.props.user.pictures;\n        return(\n            <div  className=\"row justify-content-center m-3\">\n            \n                <div className=\"col-md-10 col-lg-4 my-2\">\n                    <h2>Home details</h2>\n                    <p><strong>Home name: </strong>{this.props.user.homeName}</p>\n                    <p><strong>Home location: </strong>{this.props.user.city}</p>\n                    <p><strong>Description: </strong>{this.props.user.homeDescription}</p>\n                    <p><strong>Owner: </strong>{this.props.user.name}</p>\n                </div>\n\n                <div className=\"col-md-10 col-lg-7 m-2 carousel\">\n                    <Carousel>\n                        {\n                            pictures && pictures.map(picture =>\n                                <Carousel.Item  key={picture._id}>\n                                    <img className=\"d-block w-100\" src={picture.path} alt={picture.name} />\n                                </Carousel.Item>\n                            )\n                        }\n                    </Carousel>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default ProfileCard;\n\n","import React from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport eachDayOfInterval from 'date-fns/eachDayOfInterval';\nimport axios from 'axios';\nimport qs from 'qs';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport 'react-datepicker/dist/react-datepicker-cssmodules.css';\nimport '../layouts/Calendar.css';\n\n \nclass Available extends React.Component {\n    constructor() {\n        super();\n        this.handleChange = this.handleChange.bind(this);\n        this.addAvailability = this.addAvailability.bind(this);\n    }\n\n    state = {\n        availability: null,\n        startDate: new Date(),\n        endDate: null,\n        selecting: false\n    }\n\n    componentDidMount(){\n        axios.get(`${process.env.REACT_APP_BASE_URL}/user/profile/${this.props.match.params.id}`, {withCredentials: true})\n        .then(response => {\n            let allDates = response.data.availability;\n            let availability = allDates.map((dateTime)=> {\n            let dt = new Date(dateTime);\n            return Date.UTC(dt.getFullYear(),dt.getMonth(),dt.getDate());\n            });\n            this.setState({availability});\n        })\n        .catch (error => {\n            this.setState({error});\n        });\n    }\n    \n    handleChange(e) {\n        if(!this.state.selecting){\n            this.setState({\n                startDate: e, \n                selecting: true\n            });\n        } else {\n            if(e < this.state.startDate){\n                this.setState({\n                    startDate: e, \n                    selecting: true\n                });\n            } else {\n                this.setState({\n                    endDate: e,\n                    selecting: false\n                });\n            }\n        }\n    }\n\n    addAvailability(e) {\n        e.preventDefault();\n        let allDateTimes = [];\n        if (this.state.endDate === null){\n            allDateTimes.push( new Date(this.state.startDate ));\n        } else {\n            let dateRange = Object.values(eachDayOfInterval({ start: new Date(this.state.startDate), end: new Date(this.state.endDate) }));\n            dateRange.forEach(date => allDateTimes.push(date))\n        }\n        let allDates = allDateTimes.map((dateTime)=> {\n            let dt = new Date(dateTime);\n            return Date.UTC(dt.getFullYear(),dt.getMonth(),dt.getDate());\n        });\n        axios({\n            url: `${process.env.REACT_APP_BASE_URL}/user/profile/${this.props.match.params.id}/availabilty`,\n            data: qs.stringify(allDates),\n            withCredentials: true,\n            method: \"POST\"\n        })\n        .then(response=> {\n            this.props.profileUpdate(response.data);\n            this.props.history.push(`/user/profile/${response.data._id}`);\n        })\n        .catch(error => {\n            this.setState({error});\n        });\n    }\n \n    render() {\n        return (\n            <div className=\"d-flex flex-column justify-content-center align-items-center\">\n                <DatePicker\n                    inline\n                    excludeDates={this.state.availability}\n                    onChange={this.handleChange}\n                    startDate={this.state.startDate}\n                    endDate={this.state.endDate}\n                />\n                <div className=\"col\">\n                    <button onClick={this.addAvailability} type=\"submit\">Submit</button>\n\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Available;","import React from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport eachDayOfInterval from 'date-fns/eachDayOfInterval';\nimport axios from 'axios';\nimport qs from 'qs';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport 'react-datepicker/dist/react-datepicker-cssmodules.css';\nimport '../layouts/Calendar.css';\n \n\nclass Available extends React.Component {\n    constructor() {\n        super();\n        this.handleChange = this.handleChange.bind(this);\n        this.addAvailability = this.addAvailability.bind(this);\n    }\n\n    state = {\n        availability: null,\n        startDate: new Date(),\n        endDate: null,\n        selecting: false\n    }\n\n    componentDidMount(){\n        axios.get(`${process.env.REACT_APP_BASE_URL}/user/profile/${this.props.match.params.id}`, {withCredentials: true})\n        .then(response => {\n            let allDates = response.data.availability;\n            let availability = allDates.map((dateTime)=> {\n            let dt = new Date(dateTime);\n            return Date.UTC(dt.getFullYear(),dt.getMonth(),dt.getDate());\n            });\n            this.setState({availability});\n        })\n        .catch (error => {\n            this.setState({error});\n        });\n    }\n    \n    handleChange(e) {\n        if(!this.state.selecting){\n            this.setState({\n                startDate: e, \n                selecting: true\n            });\n        } else {\n            if(e < this.state.startDate){\n                this.setState({\n                    startDate: e, \n                    selecting: true\n                });\n            } else {\n                this.setState({\n                    endDate: e,\n                    selecting: false\n                });\n            }\n        }\n    }\n\n\n    addAvailability(e) {\n        e.preventDefault();\n        let allDateTimes = [];\n        if (this.state.endDate === null){\n            allDateTimes.push( new Date(this.state.startDate ));\n        } else {\n            let dateRange = Object.values(eachDayOfInterval({ start: new Date(this.state.startDate), end: new Date(this.state.endDate) }));\n            dateRange.forEach(date => allDateTimes.push(date))\n        }\n        let allDates = allDateTimes.map((dateTime)=> {\n            let dt = new Date(dateTime);\n            return Date.UTC(dt.getFullYear(),dt.getMonth(),dt.getDate());\n        });\n        axios({\n            url: `${process.env.REACT_APP_BASE_URL}/user/profile/${this.props.match.params.id}/removeavailabilty`,\n            data: qs.stringify(allDates),\n            withCredentials: true,\n            method: \"POST\"\n        })\n        .then(response=> {\n            this.props.profileUpdate(response.data);\n            this.props.history.push(`/user/profile/${response.data._id}`);\n        })\n        .catch(error => {\n            this.setState({error});\n        });\n\n    }\n \n    render() {\n        return (\n            <div>\n                <DatePicker\n                    inline\n                    includeDates={this.state.availability}\n                    onChange={this.handleChange}\n                    startDate={this.state.startDate}\n                    endDate={this.state.endDate}\n                />\n                <div className=\"col justify-content-center d-flex\">\n                    <button onClick={this.addAvailability} type=\"submit\">Submit</button>\n\n                </div>\n\n\n            </div>\n\n        );\n    }\n    }\n\nexport default Available;","import React from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport axios from 'axios';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport 'react-datepicker/dist/react-datepicker-cssmodules.css';\nimport '../layouts/Calendar.css';\n\n \nclass Available extends React.Component {\n    state = {\n        availability: null,\n    }\n\n    componentDidMount(){\n        axios.get(`${process.env.REACT_APP_BASE_URL}/user/profile/${this.props.user._id}`, {withCredentials: true})\n        .then(response => {\n            let allDates = response.data.availability;\n            let availability = allDates.map((dateTime)=> {\n                let dt = new Date(dateTime);\n                return Date.UTC(dt.getFullYear(),dt.getMonth(),dt.getDate());\n            });\n            this.setState({availability});\n        })\n        .catch (error => {\n            this.setState({error});\n        });\n    }\n \n    render() {\n        return (\n            <div>\n                <DatePicker\n                    inline\n                    includeDates={this.state.availability}\n                />\n            </div>\n\n        );\n    }\n}\n\nexport default Available;","import React, { Component } from 'react';\nimport qs from 'qs';\nimport axios from 'axios';\n\nexport default class AddReview extends Component {\n    constructor(props) {\n        super(props);\n        this.handleChange = this.handleChange.bind(this);\n        this.addReview = this.addReview.bind(this);\n    }\n\n    state = {\n        review:  {},\n        error: null\n    }\n\n    componentDidMount(){\n        let review = {...this.state.review};\n        review[`profile_id`] = this.props.userId;\n        this.setState({review});\n    }\n\n    handleChange(e) {\n        let review = {...this.state.review};\n        review[e.target.name] = e.target.value;\n        this.setState({review});\n    }\n\n    addReview(e) {\n        e.preventDefault();\n        document.getElementById(\"review\").reset();\n        axios({\n            url: `${process.env.REACT_APP_BASE_URL}/user/review/create`,\n            data: qs.stringify(this.state.review),\n            withCredentials: true,\n            method: \"POST\"\n        })\n        .then(response => {\n            this.props.reviewUpdate(response.data);\n            this.props.history.push(`/user/profile/${this.props._id}/reviews`);\n        })\n        .catch(error => {\n            this.setState({ error });\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"row d-flex justify-content-center text-center m-3\">\n                <form className=\"col-10 p-2\" id=\"review\">\n                    <div className=\"form-group\">\n                        <label htmlFor=\"review\">Review</label>\n                        <textarea className=\"form-control\" onChange={this.handleChange} name=\"content\" placeholder=\"Leave a review\"/>\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"score\">Score</label>\n                        <input type=\"range\" name=\"score\" className=\"form-control-range range\" min=\"1\" max=\"10\" onChange={this.handleChange} />\n                    </div>\n                    <button onClick={this.addReview} type=\"submit\">Submit</button>\n                </form>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport AddReview from '../components/AddReview';\nimport { getUser } from '../utils/auth';\nimport uid from 'uid';\n\n\n\n\nexport default class Reviews extends Component {\n    constructor() {\n        super();\n        this.reviewUpdate = this.reviewUpdate.bind(this);\n    }\n\n    state = {\n        reviews: [],\n    }\n\n    currentUser = getUser();\n\n    componentDidMount(){\n        axios.get(`${process.env.REACT_APP_BASE_URL}/user/profile/${this.props.user._id}/reviews`, {withCredentials: true})\n        .then(response => {\n            let reviews = response.data;\n            this.setState({reviews});\n        })\n        .catch (error => {\n            this.setState({error});\n        });\n    }\n\n    reviewUpdate(response){\n        let reviews = [...this.state.reviews];\n        reviews.push(response[0]);\n        this.setState({\n            reviews\n        });\n    }\n\n    render() {\n        if(this.state.reviews === null ) return <h1>No reviews for this user.</h1>;\n        let addReview;\n        if (this.currentUser._id !== this.props.user._id) {\n            addReview = <AddReview userId = {this.props.user._id} reviewUpdate={this.reviewUpdate} />\n            \n        }\n            return(\n                <div className=\"row d-flex justify-content-center text-center m-3\">\n                    <div className=\"col-10\">\n                        <h4 className=\"my-2\">Reviews</h4>\n                    </div>\n                    <div className=\"col-10 d-flex justify-content-center d-flex flex-column\">\n                    {\n                        this.state.reviews.map((review)=>\n                                <div className=\"text-wrap list-text m-2\" key={uid()}>\n                                    <p>{review.content}</p>\n                                    <h6><span className=\"font-weight-bold\">Reviewed by: </span>{review.reviewer.name} <span className=\"font-weight-bold\">Score: </span>{review.score}</h6>\n                                    <hr/>\n                            </div>\n                        )\n                    }\n\n                    </div>\n                    <div className=\"col-8\">\n                        {addReview}\n                    </div>\n\n                </div>\n\n            )\n    }\n}\n","import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass Conversation extends Component {\n    constructor(props) {\n        super(props);\n        this.sendMessage = this.sendMessage.bind(this);\n    }\n\n    sendMessage(e) {\n        e.preventDefault();\n        axios({\n            url: `${process.env.REACT_APP_BASE_URL}/conversation/create/${this.props.match.params.id}`,\n            withCredentials: true,\n            method: 'POST'\n        })\n        .then(response => {\n            this.props.history.push(`/conversations/${response.data}`);\n        })\n        .catch(error => {\n            this.setState({ error });\n        });\n    }\n\n    render() {\n        return(\n            <div className=\"row\">\n                <div className=\"col my-2 d-flex justify-content-end\">\n                    <button onClick={this.sendMessage}>Send message</button>\n                </div>\n            </div>\n\n        )\n    }\n    }\n\n    export default Conversation;","import React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link, Route } from 'react-router-dom'; \nimport { getUser, removeUser } from '../utils/auth';\nimport Default from '../layouts/Default';\nimport EditProfile from '../components/EditProfile';\nimport ProfileCard from '../components/ProfileCard';\nimport Available from '../components/AddDates';\nimport RemoveDates from '../components/RemoveDates';\nimport Calendar from '../components/Calendar';\nimport Reviews from '../components/Reviews';\nimport SendMessageBtn from '../components/SendMessageBtn';\nimport '../layouts/loading.css';\n\nclass Profile extends Component {\n    constructor(props) {\n        super(props);\n        this.fetchUser = this.fetchUser.bind(this);\n        this.toggleForms = this.toggleForms.bind(this);\n        this.profileUpdate = this.profileUpdate.bind(this);\n        this.deleteUserHandler = this.deleteUserHandler.bind(this);\n    }\n\n    state = {\n        user: null,\n        form: false,\n        error: null,\n        editCalendar: false,\n        removeDates: false,\n        calendar: true\n    }\n\n    currentUser = getUser();\n\n    componentDidMount(){\n        this.fetchUser();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.match.params.id !== prevProps.match.params.id) {\n            this.fetchUser();\n        }\n    }\n\n    fetchUser(){\n        axios.get(`${process.env.REACT_APP_BASE_URL}/user/profile/${this.props.match.params.id}`, {withCredentials: true})\n        .then(response => {\n            let user = response.data;\n            this.setState({user});\n        })\n        .catch (error => {\n            this.setState({error});\n        });\n    }\n\n    toggleForms(theForm){\n        switch(theForm){\n            case \"form\":\n                this.setState({\n                    form: true,\n                    addDates: false,\n                    removeDates: false,\n                    calendar: false \n                });\n                break;\n            case \"addDates\":\n                this.setState({\n                    form: false,\n                    addDates: true,\n                    removeDates: false,\n                    calendar: false \n                });\n                break;\n            case \"removeDates\":\n                this.setState({\n                    form: false,\n                    addDates: false,\n                    removeDates: true,\n                    calendar: false \n                });\n                break;\n            default:\n                this.setState({\n                    form: false,\n                    addDates: false,\n                    removeDates: false,\n                    calendar: true\n                });\n        }\n    }\n\n    profileUpdate(response){\n        this.fetchUser();        \n        this.setState({\n            form: false,\n            addDates: false,\n            removeDates: false,\n            calendar: true\n        });\n    }\n\n    deleteUserHandler(){\n        axios.get(`${process.env.REACT_APP_BASE_URL}/user/profile/${this.props.match.params.id}/delete`, {withCredentials: true})\n        .then(() => {\n            removeUser();\n            this.props.history.push(`/`);\n        })\n        .catch(err => {\n            this.setState({\n                error: err.response.data.message\n            })\n        })\n    }\n\n    render() {\n        if(this.state.user === null) return <Default><div className=\"lds-ring col-12 d-flex justify-content-center mt-5\"><div></div><div></div><div></div><div></div></div></Default>;\n        if (this.currentUser._id === this.props.match.params.id) {\n            return(\n                <Default>\n                    <div className=\"container-fluid\">\n                        <ProfileCard user = {this.state.user}/>\n                        <div className=\"row justify-content-center m-3\">\n                            <div className=\"col-md-10 my-2\">\n                                <h4>Edit Profile & Availability</h4>\n                            </div>\n\n                            <div className=\"row justify-content-center m-3\">\n                                <div className=\"col-md-12 col-lg-8\">\n                                    {this.state.calendar && <Calendar user = {this.state.user} /> }\n                                    {this.state.form && <Route path={`/user/profile/:id/edit`} render={(props) => <EditProfile {...props} user={this.state.user} profileUpdate={this.profileUpdate} />} />}\n                                    {this.state.addDates && <Route path={`/user/profile/:id/available`} render={(props) => <Available {...props} user={this.state.user} profileUpdate={this.profileUpdate} />} />}\n                                    {this.state.removeDates && <Route path={`/user/profile/:id/removeavailability`} render={(props) => <RemoveDates {...props} user={this.state.user} profileUpdate={this.profileUpdate} />} />}\n                                </div>\n                                <div className=\"col-md-12 col-lg-4 d-flex flex-column align-items-center\">\n                                    <Link className=\"button profile-button\" to={`/user/profile/${this.props.match.params.id}/edit`} onClick={() => this.toggleForms(\"form\")}>Edit Profile</Link>\n                                    <Link className=\"button profile-button\" to={`/user/profile/${this.props.match.params.id}/removeavailability`} onClick={() => this.toggleForms(\"removeDates\")}>Remove Availability</Link>\n                                    <Link className=\"button profile-button\" to={`/user/profile/${this.props.match.params.id}/available`} onClick={() => this.toggleForms(\"addDates\")}>Provide Availability</Link>\n                                    <button className=\"button profile-button\" onClick={this.deleteUserHandler} type=\"submit\">Delete your profile</button>\n                                </div>\n                            </div>\n\n                        </div>\n                        <div className=\"row d-flex justify-content-center m-3\">\n                            <div className=\"col-md-10 my-2\">\n                                <Reviews user={this.state.user}  />\n                            </div>\n                        </div>\n                    </div>\n                </Default>\n            )\n        } else {\n            return(\n                <Default>\n                    <div className=\"container-fluid\">\n                            <SendMessageBtn {...this.props} className=\"button\" />\n                            <ProfileCard user = {this.state.user} />\n                            <div className=\"row d-flex justify-content-center m-3\">\n                                <div className=\"col-md-10 my-2\">\n                                    <h4>Availability of Property</h4>\n                                </div>\n                                <div className=\"col-md-10 my-2 d-flex justify-content-center\">\n                                    <Calendar user = {this.state.user} />\n                                </div>\n                            </div>\n                            <div className=\"row d-flex justify-content-center m-3\">\n                                <div className=\"col-md-10 my-2\">\n                                    <Reviews user={this.state.user}  />\n                                </div>\n                            </div>\n                    </div>\n                </Default>\n            )\n        }\n    }\n}\n\nexport default Profile;","import React, { Component } from 'react';\nimport {Link} from \"react-router-dom\";\nimport '../layouts/MemberCard.css';\nimport '../layouts/List.css';\n\nclass MemberCard extends Component {\n\n    render() {\n        return(\n            <div className=\"membercard col-md-12 col-lg-6\">\n                {this.props.user? \n                <>\n                \n                    <h1>Home Details</h1>\n                    <div className=\"d-flex justify-content-center text-center flex-column\">\n                        <Link to={`/user/profile/${this.props.user._id}`} className=\"link-group d-flex justify-content-center flex-column member-card\">\n                            <p className=\"card-text\"><strong>Home Name:</strong></p>\n                            <p className=\"card-text member-hover\">{this.props.user.homeName}</p>\n                        </Link>\n                    </div>\n                    <div className=\"d-flex justify-content-center text-center flex-column\">\n                        <div className=\"card-body d-flex justify-content-center flex-column\">\n                            <p className=\"card-text\"><strong>Home Location:</strong></p>\n                            <p className=\"card-text\">{this.props.user.city}</p>\n                            <p className=\"card-text\"><strong>Description:</strong></p>\n                            <p className=\"card-text\">{this.props.user.homeDescription}</p>\n                            <p className=\"card-text\"><strong>Owner:</strong></p>\n                            <p className=\"card-text\">{this.props.user.name}</p>\n\n                        </div>\n\n                    </div>\n\n                </> :\n                    <h1>Select Property</h1>\n                }\n\n\n            </div>\n        )\n    }\n}\nexport default MemberCard;","import React from 'react';\nlet mapStyles = {\n    height: \"100vh\"\n  };\n\nclass MapCard extends React.Component {\n\n    render(){\n        return (   \n            <div style={mapStyles} ref={this.props.innerRef} className=\"map col-md-12 col-lg-6\"></div>\n        )\n    }\n\n}\n\nexport default React.forwardRef((props,ref)=> <MapCard innerRef={ref} {...props} />);","import React, { Component } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport axios from 'axios';\nimport Default from '../layouts/Default';\nimport {Route} from \"react-router-dom\";\nimport MemberCard from '../components/MemberCard';\nimport '../layouts/map.css';\nimport MapCard from '../components/MapCard.jsx';\n\nmapboxgl.accessToken = `${process.env.REACT_APP_MAP_BOX_ACCESS_TOKEN}`;\n\nexport default class Map extends Component {\n    constructor(props) {\n        super(props);\n        this.setNewUser = this.setNewUser.bind(this);\n\n        this.state = {\n\n            users: [],\n            user: null\n        };\n        this.mapRef = React.createRef();\n        \n    }\n\n    componentDidMount() {\n        const map = new mapboxgl.Map({\n            container: this.mapRef.current,            \n            style: 'mapbox://styles/mapbox/streets-v11', // style URL\n            center: [5, 50], // starting position as [lng, lat]\n            zoom: 4\n        })\n\n        map.on('move', () => {\n            this.setState({\n                lng: map.getCenter().lng.toFixed(4),\n                lat: map.getCenter().lat.toFixed(4),\n                zoom: map.getZoom().toFixed(2)\n            });\n        })\n        const fixHistory = this.props.history;\n        const fixThis =this;\n        axios({\n            url: `${process.env.REACT_APP_BASE_URL}/user/list`,\n            method: \"GET\",\n            withCredentials: true\n        })\n        .then(response => {\n            response.data.forEach((user)=> {\n                var el = document.createElement('div');\n                el.className = 'marker';\n                el.style.backgroundImage= 'url(/marker.png)';\n                el.style.backgroundSize = \"contain\";\n                el.style.width = 40 + 'px';\n                el.style.height = 58 + 'px';\n                el.style.top = -29 + \"px\";\n                el.addEventListener('click', function() {\n                    fixThis.setState({user})\n                    fixHistory.push(`/map/member/${user._id}`)\n                });\n        \n                new mapboxgl.Marker(el)\n                .setLngLat(user.geometry.coordinates)\n                .addTo(map); \n            })\n            this.setState({users: response.data});\n        })\n    }\n\n    setNewUser(response){\n        let user = response;\n        this.setState({user})\n    }\n\n    render() {\n        return (\n            <Default>\n                <div className=\"mapContainer container-fluid\">\n                    <MapCard {...this.props} ref={this.mapRef} />\n\n                    <Route exact path=\"/map/member/:userId\" render={(props)=> <MemberCard user={this.state.user}/>} /> \n                </div>\n            </Default>\n        )\n    }\n}","import React, { Component } from 'react';\nimport axios from 'axios';\nimport qs from 'qs';\n\nclass Conversation extends Component {\n    constructor(props){\n        super(props);\n        this.handleChange = this.handleChange.bind(this);\n        this.postMessage = this.postMessage.bind(this);\n    }\n\n    state = {\n        message: {},\n        error: null\n    }\n\n    handleChange(e) {\n        let message = { ...this.state.message };\n        message[e.target.name] = e.target.value;\n        this.setState({ message });\n    }\n\n    postMessage(e) {\n        e.preventDefault();\n        document.getElementById(\"post-message\").reset();\n        axios({\n            url: `${process.env.REACT_APP_BASE_URL}/message/create/${this.props.convId}`,\n            data: qs.stringify(this.state.message),\n            withCredentials: true,\n            method: \"POST\"\n        })\n        .then(response => {\n            let message = response.data[0];\n            this.props.postMessage(message);\n            this.props.history.push(`/conversations/${this.props.convId}`);\n        })\n        .catch(error => {\n            this.setState({ error });\n        });\n    }\n\n    render() {\n        return(\n        <div className=\"post-message\">\n            <form id=\"post-message\">\n                <div className=\"form-group\">\n                    <textarea className=\"form-control\" onChange={this.handleChange} name=\"message\" placeholder=\"Your message\"/>\n                </div>\n                <button onClick={this.postMessage} type=\"submit\">Post</button>\n            </form>\n        </div>\n        )\n    }\n}\n\nexport default Conversation;","import React, { Component } from 'react';\nimport axios from 'axios';\nimport PostMessage from '../components/PostMessage';\n\nclass Conversation extends Component {\n    constructor(props){\n        super(props);\n        this.transformDate = this.transformDate.bind(this);\n        this.getTime = this.getTime.bind(this);\n        this.postMessage = this.postMessage.bind(this);\n    }\n\n    state = {\n        messages: [],\n        error: null\n    }\n\n    componentDidMount() {\n        axios.get(`${process.env.REACT_APP_BASE_URL}/message/conversation/${this.props.match.params.conversationId}`, {withCredentials: true})\n        .then(response => {\n            let messages = response.data;\n            this.setState({messages});\n        })\n        .catch(error => {\n            this.setState({error});\n        })\n    }\n\n    transformDate(dateString){\n        let date = new Date(dateString);\n        let formattedDate = date.toDateString();\n        return formattedDate;\n    }\n\n    getTime(dateString){\n        let date = new Date(dateString);\n        let hours = date.getHours();\n        (hours < 10) ? hours = `0${hours}` : hours = `${hours}`;\n        let minutes = date.getMinutes();\n        (minutes < 10) ? minutes = `0${minutes}` : minutes = `${minutes}`;\n        let time = `${hours}:${minutes}`;\n        return time;\n    }\n\n    postMessage(response){\n        let messages = [...this.state.messages];\n        messages.push(response);\n        this.setState({\n            messages\n        });\n    }\n\n    render() {\n        return(\n        <div className=\"conversation\">\n            {\n                this.state.messages && this.state.messages.map(message => \n                    <div className = 'message' key={message._id}>\n                        <p>{message.message}</p>\n                        <p><i>{message.from.username} - {this.transformDate(message.createdAt)} {this.getTime(message.createdAt)}</i></p>\n                        <hr/>\n                    </div>\n                )\n            }\n            <PostMessage postMessage={this.postMessage} convId={`${this.props.match.params.conversationId}`}/>\n        </div>\n        )\n    }\n    }\n\n    export default Conversation;","import React, { Component } from 'react';\nimport axios from 'axios';\nimport uid from \"uid\";\nimport { Link, Route } from 'react-router-dom';\nimport Default from '../layouts/Default';\nimport Conversation from './Conversation';\nimport '../layouts/loading.css';\nimport '../layouts/ConversationList.css';\n\nclass ConversationList extends Component {\n  state = {\n    conversations: [],\n    error: null\n  }\n\n  componentDidMount() {\n    axios.get(`${process.env.REACT_APP_BASE_URL}/conversation/my-conversations`, {withCredentials: true})\n    .then(response => {\n      let conversations = response.data;\n      this.setState({conversations});\n    })\n    .catch(error => {\n      this.setState({error});\n    })\n  }\n\n  render() {\n    if(this.state.conversations.length === 0) return <Default><h4>No conversations yet. Why not try sending a message?</h4></Default>;\n    return(\n        <Default>\n        <div className=\"container-fluid d-flex\">\n          <div className=\"col-3\">\n            <h4>Chats</h4>\n          {\n            this.state.conversations && this.state.conversations.map(conversation => \n              <div key={conversation[1]._id}>\n              \n              <Link to={`/conversations/${conversation[0]}`}>\n                  <p className=\"conversation-link\">{conversation[1].username}</p>\n              </Link>\n              </div>\n            )\n          }\n          </div>\n          <div className=\"col-9\">\n            <h4>Messages</h4>\n            <Route path=\"/conversations/:conversationId\" render={props=> <Conversation key={uid()} {...props}/>} />\n          </div>\n\n          </div>\n\n        </Default>\n    )\n  }\n}\n\nexport default ConversationList;","import React, { Component } from 'react';\nimport Default from '../layouts/Default';\nimport '../layouts/pagenotfound.css';\n\nclass PageNotFound extends Component {\n    render() {\n        return(\n            <Default>\n                <h2>Page not found</h2>\n                <img  src=\"https://media.giphy.com/media/M28rUlcjueKUE/giphy.gif\" alt=\"sad gif\"/>\n            </Default>\n        )\n    }\n}\n\nexport default PageNotFound;","import React, { Component } from 'react';\nimport './App.css';\nimport { Route, Switch } from 'react-router-dom'; \nimport ProtectRoute from './utils/ProtectRoute';\nimport Home from './pages/Home';\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport Logout from './pages/Logout';\nimport List from './pages/List';\nimport Profile from './pages/Profile';\nimport Map from './pages/Map';\nimport ConversationList from './pages/ConversationList';\nimport PageNotFound from './pages/PageNotFound'\n\nclass App extends Component {\n  render() {\n    return(\n      <div className=\"App\">\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/user/signup\" component={Signup} />\n          <Route exact path=\"/user/login\" component={Login} />\n          <Route exact path=\"/user/logout\" component={Logout} />\n          <Route exact path=\"/properties\" component={List} />\n          <ProtectRoute path=\"/user/profile/:id\" redirectTo=\"/user/login\" component={Profile} />\n          <Route path=\"/map\" component={Map} />\n          <ProtectRoute path=\"/conversations\" redirectTo=\"user/login\" component={ConversationList} />\n          <Route path=\"/\" component={PageNotFound} />\n        </Switch>\n      </div>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}